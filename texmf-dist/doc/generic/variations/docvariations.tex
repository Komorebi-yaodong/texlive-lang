% Documentation de l'extension 'variations'
% Copyright (c) 2006 Christian Obrecht

\documentclass{article}
\usepackage{mafr,variations,ae,aecompl}

\nofiles
\def\mac#1{\item[\qquad\hbox to 4em{\ttfamily\textbackslash#1}]}

\title{L'extension \texttt{variations}\\
\texttt{\small <http://eukleides.org/variations/>}}
\author{Christian Obrecht}
\date{13 septembre 2006}

\begin{document}

\maketitle

\section{Introduction}

L'extension \texttt{variations} permet de composer au sein de documents \LaTeX,
des tableaux de variations de fonctions et des tableaux de signe respectant les
usages typographiques français. La syntaxe utilisée est proche de celle de
l'environnement \texttt{tabular}. Les macros fournies permettent de répondre aux
besoins les plus courants. Voici un exemple élémentaire :

$$
\begin{variations}
        x        & \mI &    &     &  0  &       &    & \pI \\
\filet
  \m{\frc{1}{x}} & \h0 & \d & \mI & \bb & \h\pI & \d &  0  \\
\end{variations}
$$

\noindent
obtenu avec le code suivant :

\begin{verbatim}
\begin{variations}
        x        & \mI &    &     &  0  &       &    & \pI \\
\filet
  \m{\frc{1}{x}} & \h0 & \d & \mI & \bb & \h\pI & \d &  0  \\
\end{variations}
\end{verbatim}

\noindent
Plusieurs remarques s'imposent :

\begin{enumerate}

\item Les éléments figurant dans l'environnement sont composés en mode
mathématique\footnote{La macro \texttt{\textbackslash frc} provient de
l'extension \texttt{mafr}. Elle permet de composer une fraction qui sera
systématiquement au format \texttt{displaystyle}.}.

\item Un cadre pour le tableau et un filet vertical à droite de la première
colonne sont tracés automatiquement.

\item Des macros comme \verb+\d+ (flèche décroissante) ou \verb+\bb+ (double
barre) permettent de composer les éléments spécifiques aux tableaux de
variations.

\item Les macros \verb+\m+ (pour milieu) et \verb+\h+ (pour haut) autorisent le
positionnement vertical des éléments dans la ligne des variations.

\item Les macros \verb+\mI+ et \verb+\pI+ correspondent respectivement à
$-\infty$ et $+\infty$. 

\end{enumerate}

\section{Description des macros}

Les macros suivantes sont utilisables au sein d'un environnement
\texttt{variations} :

\begin{itemize}

\mac{c} Flèche croissante.
\mac{d} Flèche décroissante.
\mac{ch} Flèche croissante pour point d'inflexion (position haute).
\mac{cb} Flèche croissante pour point d'inflexion (position basse).
\mac{dh} Flèche décroissante pour point d'inflexion (position haute).
\mac{db} Flèche décroissante pour point d'inflexion (position basse).
\mac{m} Centre verticalement l'argument dans la ligne courante.
\mac{h} Place l'argument en haut de la ligne courante.
\mac{filet} Filet horizontal.
\mac{l} Filet vertical.
\mac{z} Zéro barré d'un filet vertical.
\mac{bb} Double barre.
\mac{bg} Filet vertical justifié à gauche.
\mac{bd} Filet vertical justifié à droite.
\mac{ga} Décale l'argument vers la gauche (occupe deux colonnes).
\mac{dr} Décale l'argument vers la droite (occupe deux colonnes).
\mac{mI} Abréviation pour $-\infty$.
\mac{pI} Abréviation pour $+\infty$.

\end{itemize}

\section{Un exemple plus élaboré}

Le tableau ci-dessous :

$$
\begin{variations}
     x     & \mI &    & -1 &     &     \sqrt2     &     &    3  &     \\
\filet
    f'(x)  &   \ga-   & \z &  +  &       \z       &     \dr+    & \bd \\
\filet
  \m{f(x)} & \h1 & \d &  0 & \cb & \m{\frc{1}{4}} & \ch & \h\pI & \bd \\
\end{variations}
$$

\noindent
a été obtenu à l'aide du code suivant :

\begin{verbatim}
\begin{variations}
     x     & \mI &    & -1 &     &     \sqrt2     &     &    3  &     \\
\filet
    f'(x)  &   \ga-   & \z &  +  &       \z       &     \dr+    & \bd \\
\filet
  \m{f(x)} & \h1 & \d &  0 & \cb & \m{\frc{1}{4}} & \ch & \h\pI & \bd \\
\end{variations}
\end{verbatim}

On notera en particulier l'utilisation des macros \verb+\cb+ et \verb+\ch+ pour
le point d'inflexion, des macros \verb+\ga+ et \verb+\dr+ pour le premier
signe et le troisième signe de la dérivée, enfin de la macro \verb+\bd+ pour la
double barre sur le bord droit du tableau.

\section{Utilisation avec plain \TeX}

Il est possible d'utiliser \texttt{variations} également avec plain \TeX, en
chargeant le fichier \texttt{variations.tex}. Les macros \verb+\bvariations+ et
\verb+\evariations+ jouent alors le rôle de balises de début et de fin.

\end{document}
