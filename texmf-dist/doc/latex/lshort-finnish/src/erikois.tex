%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Contents: Specialities of the LaTeX system
% $Id: erikois.tex,v 1.2 2005/04/05 08:05:09 hellgren Exp $
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
\chapter{Lisukkeet}
\begin{intro}
  Ison dokumentin tyˆst‰misess‰ \LaTeX{} auttaa erityisominaisuuksillaan.
  N‰it‰ ovat mm.~hakemiston luominen ja kirjallisuusviitteiden hallinta.
  T‰ydellisempi kuvaus \LaTeX:n erikoistoiminnoista ja lisukkeista
  on saatavilla teoksissa {\normalfont\manual{}} ja {\normalfont \companion}.
\end{intro}

\section{\EPSi-grafiikan lis‰‰minen}\label{eps}

\LaTeX{} tarjoaa kuvien ja grafiikan kaltaisten objektien k‰sittelyyn
perustarpeet ymp‰ristˆjen \texttt{figure} ja \texttt{table} muodossa.

Perus-\LaTeX{} tai \LaTeX:n laajennuspakkaukset tarjoavat useita mahdollisuuksia
tehd‰ varsinaista grafiikkaa.\index{grafiikka} Valitettavasti ne ovat
useimmille k‰ytt‰jille vaikeatajuisia. Niinp‰ niit‰ ei selitet‰ sen
tarkemmin t‰ss‰ oppaassa. Asiasta saa lis‰tietoa teoksista {\companion} ja
{\manual}.

On paljon helpompaa saada grafiikkaa dokumenttiin tekem‰ll‰ se
siihen erikoistuneella ohjelmalla\footnote{N‰it‰ ovat mm.~XFig, CorelDraw!,
Freehand, Gnuplot, \ldots}. Valmis grafiikka voidaan sitten lis‰t‰
dokumenttiin. \LaTeX tarjoaa j‰lleen t‰h‰n useita tapoja. T‰ss‰
tekstiss‰ k‰sitell‰‰n ainoastaan \EPSi{} eli
EPS-kuvia, koska niiden tekeminen on helppoa
ja ne ovat yleisi‰. EPS-kuvien tulostamiseksi t‰ytyy k‰ytˆss‰ olla
\PSi-tulostin\footnote{Toinen vaihtoehto on hoitaa tulostus
\textsc{\wi{GhostScript}}-ohjelman kautta. Se on saatavilla osoitteesta
\CTANref|support/ghostscript|. Windows- ja OS/2-k‰ytt‰j‰t
voisivat vilkaista myˆs ohjelmaa nimelt‰ \textsc{GSview}.}

D.P.~Carlislen tekem‰ss‰ \pai{graphicx}-makropakkauksessa on joukko
hyvi‰ komentoja grafiikan lis‰‰miseksi. Se on osa makropakkausten joukkoa
nimelt‰ ''graphics''.\footnote{\CTANref|macros/latex/required/graphics|}

Jos oletetaan, ett‰ systeemin k‰ytˆss‰ on \PSi-tulostin ja
\textsf{graphicx}-pakkaus on asennettu, voidaan dokumenttiin lis‰t‰ kuvia
seuraavasti:

\begin{enumerate}
\item Tallenna kuva piirustusohjelmassasi EPS-formaattiin.\footnote{Jos ohjelmassa
 ei voi tallentaa EPS-muotoon, voidaan yrit‰‰ asentaa \PSi-tulostimen
 ajuri (esim.~Apple LaserWriter) ja tulostaa kuva tiedostoon t‰ll‰ ajurilla.
 On huomattava, ett‰ EPS-kuvassa saa olla vain yksi sivu. Jotkut tulostinajurit
 voidaan s‰‰t‰‰ tulostamaan erityisesti EPS-formaatissa.}
\item Ladataan \textsf{graphicx}-paketti tiedoston esittelyosassa k‰skyll‰
\begin{lscommand}
\verb|\usepackage[|\emph{ajuri}\verb|]{graphicx}|
\end{lscommand}
jossa \emph{ajuri} on systeemisi ohjelma, jolla dvi-tiedostot muunnetaan Post\-Scriptiksi.
Yleisin t‰llainen ohjelma on \texttt{dvips}. Ajurin nimi tarvitaan, koska
\TeX:ss‰ ei ole mit‰‰n standarditapaa lis‰t‰ kuvia. Kun \textsf{gra\-phicx}-paketti
tiet‰‰ ajurin nimen se voi valita oikean tavan lis‰t‰ tietoa kuvasta
\texttt{.dvi}-tiedostoon niin, ett‰ tulostin ymm‰rt‰‰ sen ja lis‰‰ \texttt{.eps}-tiedoston
oikein.
\item K‰ytt‰m‰ll‰ komentoa
\begin{lscommand}
\ci{includegraphics}\verb|[|\emph{avain}=\emph{arvo}, \ldots\verb|]{|\emph{tiedosto}\verb|}|
\end{lscommand}
\emph{tiedosto} lis‰t‰‰n dokumenttiin. Vaihtoehtoinen parametri hyv‰ksyy
pilkulla erotetun \emph{avainten} listan niihin liittyvine \emph{arvoineen}.
\emph{Avaimia} voidaan k‰ytt‰‰ muuttamaan kuvan leveytt‰, korkeutta tai kuvan k‰‰nt‰miseen.
Taulukko~\ref{keyvals} luettelee t‰rkeimm‰t avaimet.
\end{enumerate}

\begin{table}[htb]
\caption{Avainsanat \textsf{graphicx}-pakkaukselle}
\label{keyvals}
\begin{lined}{9cm}
\begin{tabular}{@{}ll}
\texttt{width}& kuvan leveydeksi tulee \emph{arvo}\\
\texttt{height}& kuvan korkeudeksi tulee \emph{arvo}\\
\texttt{angle}& k‰‰nt‰‰ kuvan vastap‰iv‰‰n\\
\texttt{scale}& suurentaa tai pienent‰‰ kuvaa \\
\end{tabular}

\bigskip
\end{lined}
\end{table}

Seuraava esimerkki toivottavasti selvitt‰‰ asioita:
\begin{code}
\begin{verbatim}
\begin{figure}
\begin{center}
\includegraphics[angle=90, width=0.5\textwidth]{testi.eps}
\end{center}
\end{figure}
\end{verbatim}
\end{code}
T‰m‰ lis‰‰ kuvan tiedostosta \texttt{testi.eps}. Kuvaa k‰‰nnet‰‰n \emph{ensin} 90 astetta
ja \emph{sitten} leveydeksi annetaan puolet normaalin kappaleen leveydest‰. Sivujen
suhde on $1,0$, sill‰ korkeudelle ei ole m‰‰ritelty mit‰‰n erityist‰ arvoa. Leveys
ja korkeus voidaan antaa myˆs absoluuttisina mittoina. Katso taulukosta~\ref{units}
sivulla \pageref{units} lis‰tietoja. Lis‰‰ informaatiota t‰st‰ aiheest‰ lˆytyy
ohjeista \cite{graphics} ja \cite{eps}.

\section{Bibliografia}
 
Bibliografia\index{bibliografia} voidaan tehd‰ \ei{thebibliography}-ymp‰ristˆll‰.
Jokainen nimeke alkaa komennolla
\begin{lscommand}
\ci{bibitem}\verb|[|\emph{viitetunnus}\verb|]{|\emph{tunniste}\verb|}|
\end{lscommand}
\emph{Tunnistetta} k‰ytet‰‰n dokumentissa viitattaessa kirjaan tai artikkeliin.
\begin{lscommand}
\ci{cite}\verb|{|\emph{tunniste}\verb|}|
\end{lscommand}
Jos \emph{viitetunnus} j‰tet‰‰n pois kirjallisuusluettelon kohdat numeroidaan automaattisesti.
Numeroiden tai muiden tunnusten maksimileveys asetetaan komennon
\verb|\begin{thebibliography}| j‰lkeen tulevalla parametrilla. Alla olevassa
esimerkiss‰ \verb|{99}| kertoo \LaTeX:lle, ett‰ yksik‰‰n bibliografian nimekkeiden
numeroista ei ole leve‰mpi kuin 99.

\begin{example}
Partl~\cite{pa} on
esitt‰nyt, ett‰ \ldots
\begin{thebibliography}{99}
\bibitem{pa} H.~Partl: 
\emph{German \TeX},
TUGboat Vol.~9, No.~1 ('88)
\end{thebibliography}
\end{example}

\chaptermark{Lisukkeet} % w need to fix the damage done by the
                           %bibliography example.
\thispagestyle{fancyplain}

Laajempia projekteja ajatellen kannattaa tutustua Bib\TeX-ohjelmaan.
Se sis‰ltyy useimpiin \TeX-j‰rjestelmiin. Ohjelma antaa mahdollisuuden
yll‰pit‰‰ tietokantaa kirjallisuudesta ja ottaa siit‰ mukaan tekstiss‰
viitatut nimekkeet. Bib\TeX:n ulkoasu perustuu tyylim‰‰rityksiin, jotka
antavat mahdollisuuden tehd‰ erityyppisi‰ kirjallisuusluetteloita.

\section{Hakemiston tekeminen} \label{sec:indexing}

Hakemisto\index{hakemisto} on monissa kirjoissa hyˆdyllinen ominaisuus.
\LaTeX:lla ja apuohjelmalla \texttt{makeindex}\footnote{Niiss‰ j‰rjestelmiss‰, jotka
tukevat korkeintaan 8 merkin mittaisia tiedostonimi‰, ohjelman nimen‰ saattaa
olla \texttt{makeidx}.} voidaan generoida helposti hakemisto. T‰ss‰
tekstiss‰ selitet‰‰n hakemiston teosta vain peruskomennot. Syv‰llisempi
selvitys lˆytyy kirjasta \companion. \index{makeindex-ohjelma} \index{makeidx-paketti}

Jotta \LaTeX{} osaisi tehd‰ hakemistoja, t‰ytyy esittelyosassa ottaa
k‰yttˆˆn \pai{makeidx}-makropaketti komennolla:
\begin{lscommand}
\verb|\usepackage{makeidx}|
\end{lscommand}
\noindent lis‰ksi hakemiston tekemiseksi t‰ytyy esittelyosaan panna komento:
\begin{lscommand}
  \ci{makeindex}
\end{lscommand}

\noindent Hakemiston sis‰ltˆ m‰‰ritell‰‰n komennoilla:
\begin{lscommand}
  \ci{index}\verb|{|\emph{avain}\verb|}|
\end{lscommand}
\noindent joissa \emph{avain} on hakemistoon tuleva hakusana. Hakemistokomennot
pannaan tekstiin siihen kohtaan, johon hakemiston halutaan viittaavan.
Taulukossa~\ref{index} selitet‰‰n \emph{avain}-argumentin syntaksia
muutaman esimerkin voimin.

\begin{table}[!tp]
\caption{Hakemiston avainsanojen syntaksin esimerkkej‰}
\label{index}
\begin{center}
\begin{tabular}{@{}lll@{}}
  \textbf{Esimerkki} &\textbf{Hakemiston rivi} &\textbf{Kommentti}\\\hline
  \rule{0pt}{1.05em}\verb|\index{morjens}| &morjens, 1 &Yksinkertainen hakusana\\ 
\verb|\index{morjens!Petri}|   &\hspace*{2ex}Petri, 3 &morjenksen alle tuleva hakusana\\ 
\verb|\index{Sam@\textsl{Sami}}|     &\textsl{Sami}, 2& Muotoiltu hakusana\\ 
\verb|\index{Lin@\textbf{Liinu}}|     &\textbf{Liinu}, 7& Sama kuin yll‰\\ 
\verb.\index{Jaana|textbf}.     &Jaana, \textbf{3}& Muotoiltu sivunnumero\\
\verb.\index{Jussi|textit}.     &Jussi, \textit{5}& Sama kuin yll‰\\
\verb.\index{eolienne@\'eolienne}.     &\'eolienne, 4& Aksenttien k‰sittely
\end{tabular}
\end{center}
\end{table}

Kun \LaTeX{} k‰y l‰pi k‰sikirjoitustiedostoa, jokainen \verb|\index|-komento
kirjoittaa hakemiston hakusanan yhdess‰ sivunumeron kanssa erityiseen
tiedostoon. Tiedostolla on sama nimi kuin \LaTeX:n k‰sikirjoitustiedostolla,
mutta eri p‰‰te (\verb|.idx|). Seuraavaksi \texttt{makeindex}-ohjelma k‰sittelee
t‰t‰ \texttt{.idx}-tiedostoa.

\begin{lscommand}
  \texttt{makeindex} \emph{tiedosto}
\end{lscommand}

\texttt{Makeindex}-ohjelma generoi aakkostetun hakemiston jolla on sama
tiedostonimi, mutta nyt p‰‰tteen‰ on \texttt{.ind}. Jos \LaTeX:n
k‰sikirjoitustiedosto k‰sitell‰‰n j‰lleen kerran, aakkostettu hakemisto
tulee mukaan dokumenttiin siihen kohtaan, josta \LaTeX{} lˆyt‰‰ komennon
\begin{lscommand}
  \ci{printindex}
\end{lscommand}

\LaTeXe:n mukana tuleva \pai{showidx}-makropakkaus tulostaa kaikki
hakemiston hakusanat tekstin vasempaan marginaaliin. T‰st‰ on apua
oikoluettaessa dokumenttia ja hakemistoa tarkistettaessa.

Huomaa, ett‰ \ci{index}-komento voi vaikuttaa ulkoasuun huolimattomasti
k‰ytettyn‰.

\begin{example}
Minun sanani \index{sana}.
Vastaan sinun sanasi\index{sana}.
Huomaa pisteen sijoittuminen.
\end{example}
   
\section{Tyylikk‰‰t yl‰- ja alatunnisteet}
\label{sec:fancy}

Piet van Oostrumin kirjoittama makropakkaus \pai{fancyhdr}\footnote{Saatavilla
osoitteesta \CTANref|macros/latex/contrib/supported/fancyhdr|}
lis‰‰ muutaman yksinkertaisen komennon, jolla voidaan m‰‰ritell‰
dokumentin yl‰- ja alatunnisteiden ulkoasu. T‰m‰n sivun yl‰osassa n‰hd‰‰n
k‰yt‰nnˆn toteutus makropakkauksen k‰ytˆst‰.

\begin{figure}[!htbp]
\begin{lined}{\textwidth}
\begin{verbatim}
\documentclass{book}
\usepackage{fancyhdr}
\pagestyle{fancy}
% t‰m‰ varmistaa, ett‰ otsikoiden tunnisteet
% ovat pienill‰ kirjaimilla.
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\fancyhf{}  % poista yl‰- ja alatunnisteen nykyiset asetukset
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\bfseries\rightmark}
\fancyhead[RE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}
\addtolength{\headheight}{0.5pt} % tilaa vaakaviivalle
\fancypagestyle{plain}{%
   \fancyhead{} % perussivuille ei tule tunnisteita
   \renewcommand{\headrulewidth}{0pt} % eik‰ viivaa
}
\end{verbatim}
\end{lined}
\caption{Esimerkki \pai{fancyhdr}:n k‰ytˆst‰} \label{fancyhdr}
\end{figure}

Hankalinta yl‰- ja alatunnisteiden m‰‰rittelemisess‰ on otsikkotekstien
saaminen sinne. \LaTeX:ssa t‰m‰ saadaan aikaan kaksivaiheisella
tempulla. Yl‰- ja alatunnisteen m‰‰rittelyiss‰ k‰ytet‰‰n komentoja \ci{rightmark}
ja \ci{leftmark} esitt‰m‰‰n vastaavaa luvun ja osion otsikkoa.
N‰iden komentojen arvot kirjoitetaan uusiksi aina kun vastaan tulee uusi
luku tai osio.

Joustavuuden nimiss‰ \verb|\chapter|-komento kumppaneineen ei m‰‰rittele
itse \ci{rightmark}:ia ja \ci{leftmark}:ia uusiksi, vaan se kutsuu komentoja
\ci{chaptermark}, \ci{sectionmark} tai \ci{subsectionmark}, jotka sitten
m‰‰rittelev‰t \ci{rightmark}:n ja \ci{leftmark}:n.

Niinp‰, mik‰li luvun nimen ulkoasua halutaan muuttaa tunnisteessa,
riitt‰‰, ett‰ \ci{chaptermark} m‰‰ritell‰‰n uusiksi. \cih{sectionmark}\cih{subsectionmark}

Kuva \ref{fancyhdr} n‰ytt‰‰ tavan k‰ytt‰‰ \pai{fancyhdr}-makroja
niin, ett‰ yl‰tunnisteet n‰ytt‰v‰t samalta kuin t‰ss‰ kirjasessa.
Joka tapauksessa on suositeltavaa hankkia k‰siins‰ alaviitteess‰ mainitussa
osoitteessa olevan makropakkauksen k‰yttˆohjeet. 

\section{Verbatim-makropakkaus}

Aikaisemmin t‰ss‰ kirjasessa tutustuttiin \ei{verbatim}-\emph{ymp‰ristˆˆn}.
T‰ss‰ osiossa tutustutaan \pai{verbatim}-\emph{makropakkaukseen}, joka
periaatteessa m‰‰rittelee \ei{verbatim}-ymp‰ristˆn uusiksi. Makropakkaus
pyrkii eroon joistakin alkuper‰isen ymp‰ristˆn rajoituksista. T‰ss‰ ei
sin‰ns‰ ole mit‰‰n mullistavaa, mutta \pai{verbatim}-pakkauksen k‰yttˆ
lis‰‰ myˆs uusia ominaisuuksia, mik‰ on syy sen mainitsemiseen t‰ss‰.
\pai{verbatim}-pakkauksen lis‰‰ k‰yttˆˆn

\begin{lscommand}
\ci{verbatiminput}\verb|{|\emph{tiedosto}\verb|}|
\end{lscommand}

\noindent komennon, jolla tekstiin voidaan lis‰t‰ ASCII tiedosto
sellaisenaan, aivan kuin \ei{verbatim}-ymp‰ristˆss‰ ladottuna. 

Koska \pai{verbatim}-makropakkaus on osa 'tools'-kokoelmaa, se
pit‰isi olla asennettu valmiiksi useimmissa j‰rjestelmiss‰.
Lis‰tietoja t‰st‰ pakkauksesta saa lukemalla \cite{verbatim}:n.

\section{\LaTeX:n pakkausten imurointi ja asentaminen}

Useimmat \LaTeX-j‰rjestelmiin on asennettu valmiiksi iso joukko
erilaisia makropakkauksia, mutta lis‰‰ lˆytyy verkosta. Pakkauksia
kannattaa etsi‰ Internetiss‰ p‰‰asiassa  CTAN:sta (\verb|http://www.ctan.org/|).

Er‰‰t pakkauksista kuten \pai{geometry}, \pai{hyphenat} ja monet
muut koostuvat kahdesta tiedostosta: toisella on \texttt{.ins}-p‰‰te ja toisella
\texttt{.dtx}. Usein mukana on \texttt{readme.txt}-tiedosto, joka sis‰lt‰‰
lyhyen kuvauksen pakkauksesta. T‰m‰ tiedosto tulisi lukea ensin.

Joka tapauksessa kun tiedostot on kopioitu koneeseen, ne pit‰‰
prosessoida niin, ett‰ (a) \TeX-j‰rjestelm‰ tiet‰‰ uusien pakkausten
olemassaolosta ja (b) dokumentaatio saadaan k‰yttˆˆn. Ensimm‰inen
toimenpide suoritetaan seuraavasti:

\begin{enumerate}
\item Aja \texttt{.ins}-tiedosto \LaTeX:lla, jotta \eei{.sty}-tiedosto
saadaan purettua paketista.
\item Siirr‰ \eei{.sty}-tiedosto paikkaan, josta j‰rjestelm‰ lˆyt‰‰
sen. Yleens‰ t‰m‰ on hakemisto \texttt{\ldots/\emph{localtexmf}/tex/latex}
(Windowsin ja OS/2:n k‰ytt‰j‰t voivat tietysti vaihtaa tilalle kenoviivat)
\item \TeX-j‰rjestelm‰n tiedostotietokanta p‰ivitet‰‰n. Komennon nimi
riippuu k‰ytett‰v‰st‰ \LaTeX-j‰rjestelm‰st‰: teTeX, fpTeX -- \texttt{texhash};
web2c  -- \texttt{maktexlsr}; MikTeX -- \texttt{initexmf -update-fndb} tai
sitten voidaan k‰ytt‰‰ graafista k‰yttˆliittym‰‰.
\end{enumerate}

\noindent Nyt \texttt{.dtx}-tiedostosta voidaan purkaa dokumentaatio.

\begin{enumerate}
\item Aja \texttt{.dtx}-tiedosto \LaTeX:lla. T‰m‰ luo \texttt{.dvi}-tiedoston.
Huomaa, ett‰ \LaTeX:ia joudutaan ehk‰ ajamaan useamman kerran, jotta
ristiviittaukset saadaan kohdalleen.
\item Tarkista, onko \LaTeX\ tehnyt muiden tiedostojen joukkoon 
\texttt{.idx}-tiedoston. Jos t‰t‰ tiedostoa ei lˆydy, voidaan
siirty‰ kohtaan \ref{step:final}
\item Hakemiston luomiseksi anna seuraava komento:\\
\fbox{\texttt{makeindex -s gind.ist \textit{nimi}}}\\
jossa \textit{nimi} on pakettitiedoston nimi ilman mit‰‰n p‰‰tett‰.

\item Aja viel‰ kerran \texttt{.dtx}-tiedosto \LaTeX:lla.\label{step:next}
    
\item Tee viel‰ lopuksi \texttt{.ps}- tai \texttt{.pdf}-tiedosto
lukunautinnon kasvattamiseksi.\label{step:final}
  
\end{enumerate}

Joskus tiedostojen joukkoon on ilmestynyt \texttt{.glo}-tiedosto
(eli sanasto). Aja seuraava komento kohtien \ref{step:next} ja
\ref{step:final} v‰liss‰:

\noindent\texttt{makeindex -s gglo.ist -o \textit{nimi}.gls \textit{nimi}.glo}

\noindent Muista ajaa \texttt{.dtx}-tiedosto viel‰ kerran \LaTeX:lla
ennen siirtymist‰ kohtaan \ref{step:final}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Contents: Chapter on pdfLaTeX
% French original by Daniel Flipo 14/07/2001
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{pdf{\LaTeX}:n kanssa tyˆskentely} \label{sec:pdftex}\index{PDF}
\secby{Daniel Flipo}{Daniel.Flipo@univ-lille1.fr}%
PDF on \wi{hyperteksti}dokumenttiformaatti. WWW-sivujen tapaan
jotkin dokumentin sanoista ovat hyperlinkkej‰. Ne toimivat linkkein‰
eri osiin dokumenttia tai jopa toisiin dokumentteihin. Jos hyperlinkki‰
klikkaa p‰‰tyy linkin osoittamaan kohteeseen.  {\LaTeX}:n tapauksessa
t‰m‰ tarkoittaa sit‰, ett‰ kaikki \ci{ref} ja \ci{pageref} viittaukset
ovat muuttuneet hyperlinkeiksi. T‰m‰n lis‰ksi sis‰llysluettelosta,
hakemistosta ja muista vastaavista luetteloista tulee hyperlinkkiluetteloita.

Useimmat WWW-sivuista on kirjoitettu HTML:ll‰ \emph{(HyperText
Markup Language)}. Luonnontieteellisi‰ dokumentteja kirjoitettaessa t‰ll‰
formaatilla on pari merkitt‰v‰‰ puutetta:
\begin{enumerate}
\item HTML ei tue matemaattisia kaavoja. Niit‰ varten on kyll‰ olemassa
oma standardi, mutta usemmat nykyiset selaimet eiv‰t tue sit‰, tai
j‰rjestelmist‰ puuttuvat tarvittavat kirjasimet.
\item HTML-dokumenttien tulostaminen on mahdollista, mutta tulokset
riippuvat k‰yttˆj‰rjestelm‰st‰ ja selaimesta. Tulokset ovat kilometrien
p‰‰ss‰ siit‰, mihin on totuttu {\LaTeX}:n maailmassa.
\end{enumerate}

Useasti on yritetty tehd‰ k‰‰nnˆsohjelmia {\LaTeX}:sta HTML:‰‰n.
Er‰‰t ovat jopa onnistuneet melko hyvin siin‰ mieless‰, ett‰ ne ovat
pystyneet tuottamaan hyv‰ksytt‰vi‰ WWW-sivuja normaalista {\LaTeX}:n
k‰sikirjoitustiedostosta. Mutta kaikki k‰‰nt‰j‰t oikaisevat v‰h‰n
sielt‰ sun t‰‰lt‰. Heti jos aletaan k‰ytt‰‰ v‰h‰n mutkikkaampia
{\LaTeX}:n piirteit‰ ja makropakkauksia, homma menee pieleen.
Ne kirjoittajat, jotka haluavat esitt‰‰ dokumenttinsa typografisesti
laadukkaina myˆs verkossa, k‰ytt‰v‰t PDF:‰‰ \emph{(Portable Document Format)},
joka s‰ilytt‰‰ dokumenttien ulkoasun ja mahdollistaa linkkien k‰ytˆn.
Useimmissa nykyisiss‰ selaimissa on apuohjelma, joka sallii PDF-dokumentin
avaamisen suoraan selaimeen.

Vaikka DVI ja PS katseluohjelmia on olemassa melkein kaikille k‰yttˆj‰rjestelmille,
on kuitenkin todettava, ett‰ PDF-dokumenttien katseluun tarkoitetut \wi{acrobat reader}
ja \wi{xpdf} ovat viel‰ n‰it‰kin yleisempi‰. Niinp‰ PDF-version tarjoaminen
mahdollistaa suuremman lukijakunnan hankkimisen.

\subsection{PDF-dokumentteja verkkoon}

PDF-tiedoston tuottaminen {\LaTeX}:n l‰hdetiedostosta on hyvin helppoa
kiitos H\`an~Th\'{\^e}~Th\`anhin kehitt‰m‰n ohjelman pdf{\TeX}:n.
Se tuottaa {\TeX}:n normaalisti tuottaman DVI-tulosteen sijasta
PDF-tulosteen. Lis‰ksi {\LaTeX}-dokumentteja varten on olemassa
pdf\LaTeX. \index{pdftex@pdf\TeX}\index{pdftex@pdf\LaTeX}

Useimmissa {\TeX}-j‰rjestelmiss‰ (mm.~te\TeX{}, fp\TeX{},
Mik\TeX, \TeX{}Live ja CMac\TeX{}) on mukana sek‰ pdf\TeX{} ett‰ pdf\LaTeX{}.

PDF:n tuottamiseksi DVI:n sijasta riitt‰‰, ett‰ korvataan komento
\texttt{latex tiedosto.tex} komennolla \texttt{pdflatex tiedosto.tex}.
Niiss‰ j‰rjestelmiss‰, joissa \LaTeX{}:ia ei k‰ytet‰ komentotulkista k‰sin,
on ilmeisesti t‰t‰ varten erityinen graafinen valintan‰pp‰in.

\LaTeX:ssa voidaan m‰‰ritell‰ paperin koko k‰ytt‰m‰ll‰ documentclassin
parametreina esim.~\texttt{a4paper} tai \texttt{letterpaper}.
T‰m‰ toimii myˆs pdf\LaTeX:ssa, mutta t‰m‰n lis‰ksi pdf\TeX{} tarvitsee
tiedon myˆs paperin fyysisest‰ koosta eik‰ pelk‰st‰‰n latomiseen k‰ytetyst‰
alueesta.
\index{paper size}
Jos k‰ytet‰‰n \pai{hyperref}-makropakkausta (ks. sivu \pageref{ssec:pdfhyperref}),
paperin koko m‰‰r‰ytyy automaattisesti. Muutoin t‰m‰ pit‰‰ tehd‰ k‰sin
lis‰‰m‰ll‰ m‰‰rittelyosaan seuraavat rivit:
\begin{code}
\begin{verbatim}
\pdfpagewidth=\paperwidth
\pdfpageheight=\paperheight
\end{verbatim}
\end{code}

Seuraavassa osiossa k‰sitell‰‰n yksityiskohtaisemmin normaalin
\LaTeX:n ja pdf\LaTeX:n v‰lisi‰ eroja, jotka voidaan jakaa kolmeen kategoriaan:
k‰ytett‰v‰t kirjasimet, kuvien mahdollinen tiedostomuoto, ja hyperlinkkien
lis‰‰minen k‰sin.

\subsection{Kirjasimet}

\wi{pdf\LaTeX} hyv‰ksyy kaikki mahdolliset kirjasintyypit (PK bittikartat, TrueType,
\PSi{} type~1\dots), mutta \LaTeX:n p‰‰asiallinen kirjasintyyppi eli bittikarttoina
toteutetut PK-kirjasimet tuottavat ruman lopputuloksen kun dokumenttia
katsellaan Acrobat Readerilla. On parasta k‰ytt‰‰ ainoastaan \PSi{} Type 1 kirjasimia,
jotta dokumentit n‰ytt‰isiv‰t myˆs n‰ytˆll‰ hyvilt‰.
\emph{Nykyisiss‰ TeX-j‰rjestelmiss‰ t‰m‰ tapahtuu automaattisesti. Kannattaa
kokeilla. Mik‰li kaikki toimii oikein, voidaan t‰m‰ kohta j‰tt‰‰ lukematta.}

Computern Modernin  ja AMS-kirjasinten \PSi{} Type 1 versiot on tehnyt
Blue Sky Research ja Y\&Y, Inc., jotka siirsiv‰t tekij‰noikeudet American Mathematical
Societylle. Kirjasimet julkistettiin alkuvuodesta 1997 ja ne sis‰ltyv‰t useimpiin
\TeX-j‰rjestelmiin. 

Mik‰li kuitenkin {\LaTeX}:ia k‰ytet‰‰n muiden kuin englanninkielisten
dokumenttien kirjoittamiseen, joudutaan k‰ytt‰m‰‰n EC, LH, tai CB kirjasimia (ks.
huomioita \texttt{OT1}-kirjasimesta sivulla~\pageref{OT1}).
Vladimir Volovich on tehnyt cm-super font kokoelman, joka kattaa kokonaan
kirjasinkokoelmat EC/TC, EC Concrete, EC Bright ja LH. Se on saatavilla
osoitteesta \texttt{CTAN:/fonts/ps"-type1/cm-super} ja sis‰ltyy \TeX{}Live7-
and Mik\TeX-j‰rjestelmiin. Vastaavasti Apostolos Syropouloksen tekem‰t
type~1 kreikkalaiset CB-kirjasimet ovat saatavilla osoitteesta
\texttt{CTAN:/tex-archive/fonts/greek/cb}.
Valitettavasti kumpikaan kirjasinkokoelma ei typografiselta laadultaan
vastaa Blue Sky/Y\&Y:n Type~1 CM kirjasimia. Niiden muunnos tehtiin t‰ysin
automaattisesti, eik‰ dokumentti n‰yt‰ n‰ytˆll‰ v‰ltt‰m‰tt‰ yht‰ hyv‰lt‰
kuin sellaiset, jotka k‰ytt‰v‰t Blue Sky/Y\&Y:n type 1 CM-kirjasimia.
Tulostuslaitteilla, joiden resoluutio on tarkempi, tulokset ovat kuitenkin identtiset
alkuper‰isten bittikartta EC/LH/CB-kirjasinten kanssa. 

Mik‰li dokumentti tehd‰‰n yhdell‰ latinalaista kirjaimistoa k‰ytt‰v‰ll‰
kielell‰, on mahdollista k‰ytt‰‰ muita vaihtoehtoja.
\begin{itemize}
\item On mahdollista k‰ytt‰‰ \pai{aeguill}-makropakettia eli \emph{Almost
 European Computer Modern with Guillemets}.\footnote{L‰hes European Computer Modern
 lis‰ttyn‰ ranskalaisin lainausmerkein} Riitt‰‰ kun dokumentin m‰‰rittelyosaan
 lis‰t‰‰n rivi \verb+\usepackage{aeguill}+\paih{aeguill}, jolloin virtuaaliset
 AE-kirjasimet korvaavat EC-kirjasimet.
\item Voidaan k‰ytt‰‰ myˆs \pai{mltex}-makropakettia, mutta t‰m‰ toimii vain
jos pdf\TeX-ohjelma on k‰‰nnetty \wi{mltex}-optiolla.
\end{itemize}
Virtuaalinen AE-kirjasinkokoelma saa {Ml\TeX}-systeemin tavoin {\TeX}:n
luulemaan, ett‰ k‰ytˆss‰ on t‰ysi 256 merkin merkistˆ lis‰‰m‰ll‰ puuttuvat
merkit CM-kirjasimesta ja j‰rjestelem‰ll‰ ne EC-kirjasimen merkistˆksi. T‰m‰
mahdollistaa type 1 muotoa olevien CM~kirjasinten k‰ytˆn. Koska kirjasin
noudattaa nyt T1-merkistˆ‰, tavutus toimii useimmissa latinalaista kirjaimistoa
k‰ytt‰viss‰ Euroopan kieliss‰. Ainoa haittapuoli on, ett‰ keinotekoisesti luotuja
AE-merkkej‰ ei voi hakea Acrobat Readerin \texttt{Find}-toiminnolla, joten
sanoja, joiden kirjaimissa on aksentti ei pysty hakemaan
PDF"-dokumentissa.\footnote{Lis‰ksi AE-kirjasimista puuttuu muutama T1-merkistˆn
kirjain. T‰st‰ syyst‰ t‰m‰n dokumentin PDF-tuloste k‰ytt‰‰ yll‰mainittua
cm-super kirjasinkokoelmaa. (suom. huom.)}

Ven‰j‰nkielisille dokumenteille vastaava ratkaisu on k‰ytt‰‰ C1"-virtuaalikirjasimia,
jotka lˆytyv‰t osoitteesta \texttt{ftp://ftp.vsu.ru/pub/tex/font-packs/c1fonts}.
N‰m‰ yhdist‰v‰t normaalit Blueskyn CM type~1 kirjasimet Paradissan ja BaKoMan
CMCYR type~1 kirjasimiin. Kaikki ovat saatavilla CTAN:ssa. Koska Paradissa
sis‰lt‰‰ ainoastaan ven‰l‰iset kirjaimet, ei C1-kirjasimessa ole
lainkaan muita kyrillisi‰ kirjaimia.\footnote{Tahtoo sanoa sit‰, ett‰
kirjasimella voidaan latoa ven‰j‰n lis‰ksi bulgariaa, muttei muita
kyrillist‰ kirjaimistoa k‰ytt‰vi‰ kieli‰.}

Toinen vaihtoehto on k‰ytt‰‰ jotain muuta \PSi{} type~1 kirjasinta.
Itseasiassa jopa Acrobat Readerin mukana tulee muutama.
Koska n‰iden kirjasinten mittasuhteet ovat erilaiset, tekstin ulkoasu
muuttuu. Yleens‰ muut kirjasimet viev‰t enemm‰n tilaa kuin CM-kirjasimet.
Lis‰ksi dokumentin visuaalinen yhten‰isyys k‰rsii, koska Timesia, Helveticaa
ja Courieria (joita yleens‰ k‰ytet‰‰n korvaavina kirjasimina) ei ole
suunniteltu k‰ytett‰v‰ksi yhdess‰ samalla tavoin kuin Computer Modern
kirjasinten vastaavia kirjasinleikkauksia.

T‰h‰n tarkoitukseen on valmiina kaksi kirjasinkokoelmaa:
\pai{pxfonts}, joka perustuu \emph{Palatinoon}, on leip‰tekstin kirjasin,
ja \pai{txfonts}-makropaketti, joka perustuu \emph{Timesiin}. Niiden
k‰yttˆˆn riitt‰‰ seuraavien rivien lis‰‰minen dokumentin m‰‰rittelyosaan:
\begin{code}
\begin{verbatim}
\usepackage[T1]{fontenc}
\usepackage{pxfonts}
\end{verbatim}
\end{code}

HUOM: \texttt{.log}-tiedostossa saattaa esiinty‰ dokumentin k‰‰nt‰misen
j‰lkeen seuraavanlaisia rivej‰
\begin{verbatim}
Warning: pdftex (file eurmo10): Font eurmo10 at ... not found
\end{verbatim}
Ne tarkoittavat, ett‰ jotakin dokumentissa k‰ytetty‰ kirjasinta ei lˆydetty.
T‰m‰ ongelma vaatii ehdottomasti korjaamista, koska voi olla, ett‰
PDF dokumentissa \emph{eiv‰t n‰y lainkaan ne sivut, joista puuttuu kirjasimia}.

Koko t‰m‰ kirjasinhomma ja erityisesti laadukkaiden EC type~1 kirjasinten
puute vaivaa useita tahoja. V‰h‰n aikaa sitten saataville tulivat uudet
korkealaatuiset Latin Modern (LM) "=kirjasimet. Mik‰li k‰ytˆss‰ on tuore
{\TeX}-j‰rjestelm‰, on mahdollista, ett‰ kirjasimet on jo asennettu ja
riitt‰‰, ett‰ dokumentin m‰‰rittelyosaan lis‰t‰‰n rivit:

\begin{code}
\begin{verbatim}  
\userpackage{lmodern}
\usepackage[T1]{fontenc} 
\usepackage{textcomp}
\end{verbatim}
\end{code}
ja k‰ytˆss‰ on nyt koko latinalainen T1-merkistˆ pdf-tulostusta varten.

\subsection{Grafiikan k‰yttˆ}
\label{ssec:pdfgraph}

Grafiikan lis‰‰minen dokumenttiin onnistuu parhaiten
\pai{graphicx}-makropakkauksella (ks.~\pageref{eps}).
Erityist‰ \emph{driver}-optiota k‰ytt‰m‰ll‰ \texttt{pdftex}
toimii myˆs pdf{\LaTeX}:ssa:
\begin{code}
\begin{verbatim}
\usepackage[pdftex]{color,graphicx}
\end{verbatim}
\end{code}
Yll‰ olevassa esimerkiss‰ on k‰ytetty v‰rioptiota, koska v‰rin k‰ytt‰minen
on luontevaa verkkodokumenteissa.

Se hyvist‰ uutisista. Huono uutinen on se, ett‰ {\EPSi}-grafiikka ei
toimi Pdf{\LaTeX}:ssa. Mik‰li \ci{includegraphics}-komento ei m‰‰rittele
tiedostop‰‰tett‰, \pai{graphicx} alkaa etsi‰ sopivaa tiedostoa omin p‰in
\emph{driver}-option asetuksista riippuen. \texttt{pdftex}:ss‰ haettavat
p‰‰tteet ovat \texttt{.png}, \texttt{.pdf}, \texttt{.jpg}, \texttt{.mps} (
\MP\index{metapost@\MP}) ja \texttt{.tif}, \emph{muttei} \texttt{.eps}.

Helpoin tapa selvit‰ t‰st‰ ongelmasta on muuntaa EPS-tiedosto PDF-muotoon
k‰ytt‰m‰ll‰ useimista j‰rjestelmist‰ lˆytyv‰‰ \texttt{epstopdf}-tyˆkalua.
Vektorigrafiikalle (piirustuksille) t‰m‰ on hyv‰ ratkaisu. Bittikarttakuville
(valokuvat, skannatut kuvat) t‰m‰ ei ole paras mahdollinen ratkaisu, sill‰
PDF-formaatti tukee itsess‰‰n PNG- ja JPEG-kuvia. PNG sopii n‰yttˆkaappauksille
ja muille v‰h‰v‰risille kuville. JPEG sopii tilaa s‰‰st‰v‰n‰ valokuville.

Voi olla parempi j‰tt‰‰ joidenkin geometristen kuvioiden piirt‰minen ja
sen sijasta kuvata ne erityisell‰ komentokielell‰, kuten useimmista {\TeX}-j‰rjestelmist‰
lˆytyv‰ll‰ \MP-kielell‰.\index{metapost@\MP} Siihen on saatavissa kattava
k‰yttˆopas.

\subsection{Hypertekstilinkit}
\label{ssec:pdfhyperref}

\pai{hyperref}-makropaketti muuttaa kaikki dokumentin ristiittaukset
hyperlinkeiksi. Jotta t‰m‰ toimisi kunnolla, pit‰‰ dokumentin esittelyosaan
panna viimeiseksi kommennoksi \verb+\usepackage[pdftex]{hyperref}+

\pai{hyperref}-makrojen toiminnan virittelyyn on olemassa lukuisia optioita:
\begin{itemize}
\item joko pilkuin erotettuna listana pdftex-option j‰lkeen\\
  \verb+\usepackage[pdftex]{hyperref}+
\item tai omilla riveill‰‰n komennon
  \verb+\hypersetup{+\emph{options}\verb+}+ yhteydess‰.
\end{itemize}

Ainoa pakollinen optio on \texttt{pdftex}; loput ovat vapaavalintaisia
ja ne vaikuttavat hyperref-paketin toimintaan.\footnote{On syyt‰ huomata,
ett‰ \pai{hyperref}-makropakettia voidaan k‰ytt‰‰ myˆs muutoinkin kuin
pdf{\TeX}:n kanssa. Sit‰ voidaan k‰ytt‰‰ myˆs erityisen PDF-informaation
lis‰‰miseksi normaalin {\LaTeX}:n DVI-tulosteeseen, joka voidaan sitten
muuntaa PS-tiedostoksi \texttt{dvips}:ll‰ ja se voidaan lopuksi muuntaa
PDF:ksi Adobe Distillerill‰.} Seuraavassa listassa oletusarvot eiv‰t
ole kursiivissa.

\begin{description}
  \item [\texttt{bookmarks (=true,\textit{false})}] n‰yt‰ tai piilota
    PDF:n sis‰llysluettelo kun dokumentti avataan katseltavaksi
  \item [\texttt{unicode (=false,\textit{true})}] mahdollistaa
    muidenkin kuin latinalaisen perusmerkistˆn k‰ytˆn Acrobatin
    sis‰llysluettelossa
  \item [\texttt{pdftoolbar (=true,\textit{false})}] n‰yt‰ tai
    piilota Acrobatin tyˆkalupalkki
  \item [\texttt{pdfmenubar (=true,\textit{false})}] n‰yt‰ tai
    piilota Acrobatin valikot
  \item [\texttt{pdffitwindow (=true,\textit{false})}] s‰‰t‰‰
    pdf-dokumentin suurennossuhdetta n‰yttˆˆn avattaessa
  \item [\texttt{pdftitle (=\{teksti\})}] m‰‰rittelee Acrobatin
    \texttt{Document Info}-ikkunassa n‰kyv‰n tekstin, joka kertoo
     dokumentin nimen
  \item [\texttt{pdfauthor (=\{teksti\})}] PDF-dokumentin tekij‰n nimi
  \item [\texttt{pdfnewwindow (=true,\textit{false})}] m‰‰rittelee
    pit‰‰kˆ dokumentin linkin kautta avattu uusi dokumentti avata
    uuteen ikkunaan
  \item [\texttt{colorlinks (=false,\textit{true})}] ymp‰rˆi linkit
     v‰rillisell‰ kehyksell‰ (\texttt{false}) tai esitt‰‰ linkkien
     tekstin v‰rillisen‰ (\texttt{true}). V‰ri voidaan m‰‰ritell‰
     seuraavilla optioilla (t‰ss‰ on esitetty oletusv‰rit):
    \begin{description}
    \item [\texttt{linkcolor (=red)}] ristiviittausten v‰ri,
    \item [\texttt{citecolor (=green)}] kirjallisuusviittausten v‰ri
    \item [\texttt{filecolor (=magenta)}] toiseen tiedostoon johtavien
      linkkien v‰ri
    \item [\texttt{urlcolor (=cyan)}] URL-linkkien v‰ri (s‰hkˆposti, webbilinkit)
    \end{description}
\end{description}

\vspace{\baselineskip}

Mik‰li oletusarvot kelpaavat k‰yt‰:
\begin{code}
\begin{verbatim}
\usepackage[pdftex]{hyperref}
\end{verbatim}
\end{code}

Jos sis‰llysluettelo halutaan esiin ja linkit v‰reiss‰
(\texttt{=true}-arvoa ei ole pakko k‰ytt‰‰):
\begin{code}
\begin{verbatim}
\usepackage[pdftex,bookmarks,colorlinks]{hyperref}
\end{verbatim}
\end{code}

Kun PDF on tarkoitettu tulostamiseen, v‰rilliset linkit n‰kyv‰t
lopputuloksessa harmaina ja ne vaikeuttavat lukemista. Voidaan k‰ytt‰‰
v‰rillisi‰ kehyksi‰, jotka eiv‰t n‰y tulostettaessa:
\begin{code}
\begin{verbatim}
\usepackage{hyperref}
\hypersetup{colorlinks=false}
\end{verbatim}
\end{code}
\noindent tai linkit voidaan esitt‰‰ mustina:
\begin{code}
\begin{verbatim}
\usepackage{hyperref}
\hypersetup{colorlinks,%
            citecolor=black,%
            filecolor=black,%
            linkcolor=black,%
            urlcolor=black,%
            pdftex}
\end{verbatim}
\end{code}

Kun halutaan ainoastaan tallentaa tietoa PDF-tiedoston
\texttt{Document Info} -osaan:
\begin{code}
\begin{verbatim}
\usepackage[pdfauthor={Pierre Desproges}%
            pdftitle={Des femmes qui tombent},%
            pdftex]{hyperref}
\end{verbatim}
\end{code}

\vspace{\baselineskip}

Ristiviittauksissa voidaan k‰ytt‰‰ automaattisten linkkien sijasta myˆs
k‰sin m‰‰riteltyj‰ linkkej‰ komennolla
\begin{lscommand}
\ci{href}\verb|{|\emph{url}\verb|}{|\emph{teksti‰}\verb|}|
\end{lscommand}

Koodi
\begin{code}
\begin{verbatim}
\href{http://www.ctan.org}{CTAN} webbiosoite.
\end{verbatim}
\end{code}
tuottaa tekstin ``\href{http://www.ctan.org}{CTAN}'';
Kun sanaa ``\textcolor{magenta}{CTAN}'' klikataan,
p‰‰dyt‰‰n CTAN:n WWW-sivulle.

Jos linkin kohden on paikallinen tiedosto, voidaan k‰ytt‰‰
komentoa:
\begin{verbatim}
  T‰ydellinen dokumentaatio on \href{manual.pdf}{t‰ss‰}
\end{verbatim}
Mik‰ tuottaa tekstin ``T‰ydellinen dokumentaatio on \textcolor{cyan}{t‰ss‰}''.
Kun sanaa 
``\textcolor{cyan}{t‰ss‰}'' klikataan
avautuu tiedosto \texttt{manual.pdf}. (Tiedostopolku riippuu l‰htˆdokumentin
sijainnista).

Artikkelin tekij‰ ehk‰ haluaa, ett‰ lukijat voivat helposti l‰hett‰‰
s‰hkˆpostiviestej‰. T‰h‰n voidaan k‰ytt‰‰ \ci{href}-komentoa nimiˆsivulla
olevan \ci{author}-komennon sis‰ll‰:
\begin{code}
\begin{verbatim}
\author{Timo Hellgren $<$\href{mailto:timo.hellgren@vtt.fi}%
       {timo.hellgren@vtt.fi}$>$
\end{verbatim}
\end{code}
Linkki on t‰ss‰ esitetty niin, ett‰ s‰hkˆpostiosoite n‰kyy linkin
sijasta myˆs itse sivulla. T‰m‰ sen vuoksi, ett‰ linkki\\
\verb+\href{mailto:timo.hellgren@vtt.fi}{Timo Hellgren}+\\
toimisi kyll‰ Acrobatissa, mutta tulostettaessa paperille s‰hkˆpostiosoite
ei olisi en‰‰ n‰kyviss‰.

\subsection{Linkkiongelmia}

Esimerkin:\footnote{pdfTeX varoitus: kohde, jolla on sama tunniste,
 on jo k‰ytˆss‰, duplikaattia ei huomioida}
\begin{verbatim}
! pdfTeX warning (ext4): destination with the same identifier
  (name{page.1}) has been already used, duplicate ignored
\end{verbatim}
mukaisia viestej‰ tulee, kun laskurit on nollattu esim. k‰ytt‰m‰ll‰
\texttt{book}-dokumenttiluokassa komentoa \ci{mainmatter}.
Se asettaa sivunnumerolaskurin takaisin arvoon 1 kirjan ensimm‰isen
luvun kohdalla. Koska kuitenkin kirjan alkuosassa on myˆs sivu, jonka
numero on 1, eiv‰t mahdolliset linkit sivulle 1 en‰‰ ole yksiselitteisi‰.
T‰st‰ johtuen tulee ilmoitus, ett‰ duplikaatti on j‰tetty huomiotta.

T‰m‰ voidaan v‰ltt‰‰, tosin vain sivunnumerolaskurin osalta,
lis‰‰m‰ll‰ \texttt{plainpages=false} hyperrefin optioiden joukkoon.
Radikaalimpi ratkaisu on \texttt{hypertexnames=false}-option k‰ytt‰minen, mutta
t‰m‰ aiheuttaa sen, ett‰ hakemiston linkit dokumentin sivuille lakkaavat toimimasta.

\subsection{Sis‰llysluettelo-ongelmia}

PDF-sis‰llysluettelon teksti ei aina n‰yt‰ halutulta. Koska sis‰llysluettelon
linkkitekstit ovat ``vain teksti‰'', on k‰ytˆss‰ v‰hemm‰n merkkej‰ kuin
{\LaTeX}:n normaalitekstiss‰. Hyperref huomioi n‰m‰ ongelmat varoituksella:
\begin{code}
\begin{verbatim}
Package hyperref Warning: 
Token not allowed in a PDFDocEncoded string:
\end{verbatim}
\end{code}
Ongelma voidaan kiert‰‰ m‰‰rittelem‰ll‰ ongelmallisen tekstin tilalle
uusi teksti:
\begin{lscommand}
\ci{texorpdfstring}\verb|{|\emph{\TeX{} teksti}\verb|}{|\emph{sis‰llysluettelon teksti}\verb|}|
\end{lscommand}

Matemaattiset ilmaisut ovat tyypillinen ongelmatapaus:
\begin{code}
\begin{verbatim}
\section{\texorpdfstring{$E=mc^2$}%
        {E\ =\ mc\texttwosuperior}}
\end{verbatim}
\end{code}
mik‰ muuttaa tekstin \verb+\section{$E=mc^2$}+ sis‰llysluettelossa muotoon ``E=mc2''.

V‰rien k‰yttˆ ei myˆsk‰‰n toimi sis‰llysluettelossa:
\begin{code}
\verb+\section{\textcolor{red}{Punainen !}}+
\end{code}
tuottaa tekstin ``redPunainen!''. Komentoa \verb+\textcolor+ ei huomioida,
mutta sen argumentti {red} tulostetaan n‰kyviin.

K‰ytt‰m‰ll‰
\begin{code}
\verb+\section{\texorpdfstring{\textcolor{red}{Punainen !}}{Punainen\ !}}+
\end{code}
lopputuloksesta tulee luettavampi.

\subsubsection{Yhteensopivuus {\LaTeX}:n ja pdf{\LaTeX}:n v‰lill‰}
\label{sec:pdfcompat}

Ideaalitapauksessa dokumentin pit‰isi toimia yht‰ hyvin {\LaTeX}:n
ja pdf{\LaTeX}:n kanssa. Suurin ongelma t‰ss‰ on grafiikan k‰ytt‰minen.
Yksinkertainen ratkaisu on \emph{j‰tt‰‰ j‰rjestelm‰llisesti} 
\ci{includegraphics}-komennosta pois tiedostop‰‰te. Silloin sopivaa
tiedostoa haetaan automaattisesti tyˆhakemistosta. Riitt‰‰, ett‰
grafiikkatiedostoista on tehty tarkoitukseen sopivat versiot.
\LaTeX{} etsii \texttt{.eps}-tiedostoja, ja pdf\LaTeX{}
yritt‰‰ lˆyt‰‰ tiedostoa, jonka p‰‰te on 
\texttt{.png}, \texttt{.pdf}, \texttt{.jpg}, \texttt{.mps} tai \texttt{.tif}
(t‰ss‰ j‰rjestyksess‰).

Mik‰li PDF-versiota varten tarvitaan eri koodausta, voidaan
esittelyosaan lis‰t‰ \pai{idpdf}"-pakkaus\footnote{Selitys sille,
miksi pit‰‰ k‰ytt‰‰ t‰t‰ pakkausta lˆytyy {\TeX}-FAQ:sta kohdasta
\url{http://www.tex.ac.uk/cgi-bin/texfaq2html?label=ifpdf}.}
Pakkaus on mahdollisesti jo asennettu valmiiksi. Mik‰li n‰in ei
kuitenkaan ole on k‰ytˆss‰ luultavasti MiK{\TeX}, joka asentaa
puuttuvan pakkauksen ensimm‰isell‰ k‰yttˆkerralla. T‰m‰ pakkaus
m‰‰rittelee erityisen komennon \ci{ifpdf}, joka mahdollistaa
ehtolauseiden kirjoittamisen. Esimerkiss‰ PostScript"-versiosta
halutaan mustavalkoinen tulostuskustannusten vuoksi, mutta
PDF-versiosta halutaan v‰rillinen n‰ytˆll‰ selailua varten.
\begin{code}
\begin{verbatim}
\ifpdf
   \usepackage[T1]{fontenc}
   \usepackage{aeguill}
   \usepackage[pdftex]{graphicx,color}
   \usepackage[pdftex,colorlinks]{hyperref}
\else
   \usepackage[T1]{fontenc}
   \usepackage[dvips]{graphicx}
   \usepackage[dvips]{hyperref}
\fi
\end{verbatim}
\end{code}

Esimerkiss‰ on hyperref-pakkausta on k‰ytetty myˆs silloin kun
lopputulos ei ole PDF-tiedosto. T‰m‰ tekee mahdolliseksi k‰ytt‰‰
\ci{href}-komentoa kummassakin tapauksessa, jolloin ehtolausetta
ei tarvitse kirjoittaa joka kerta kun komentoa k‰ytet‰‰n.

On huomattava, ett‰ uusimmissa {\TeX}-j‰rjestelmiss‰ (kuten {\TeX}Live),
kun k‰ytet‰‰n makropakkauksia \pai{graphicx} ja \pai{color} valinta
\texttt{pdftex}:n ja \texttt{dvips}:n v‰lill‰ tapahtuu automaattisesti
\texttt{graphics.cfg}- ja \texttt{color.cfg}-tiedoston asetuksista
riippuen.

\section{Esitelmien tekeminen dokumenttiluokalla \pai{beamer}}
\label{sec:beamer}
\secby{Daniel Flipo}{Daniel.Flipo@univ-lille1.fr}
Tieteellisen tyˆn tulokset voidaan esitt‰‰ liitutaululla, kalvoilla
tai suoraan kannettavalla tietokoneella sopivaa ohjelmistoa k‰ytt‰m‰ll‰.

Kun \wi{pdf\LaTeX}:ia k‰ytet‰‰n dokumenttiluokan \pai{beamer} kanssa
voidaan luoda PDF-esityksi‰, jotka n‰ytt‰v‰t tehdyn PowerPointilla.
Acrobat Reader on kuitenkin saatavilla useammille k‰yttˆj‰rjestelmille kuin PowerPoint.

\pai{beamer}-luokka k‰ytt‰‰ makropakkauksia \pai{graphicx}, \pai{color} ja
\pai{hyperref} optiolla, jotka soveltuvat esitelmiin.
%La figure~\ref{fig:pdfscr} contient un exemple de fichier minimal ‡
%compiler avec \wi{pdf\LaTeX} et le 
%rÈsultat produit.

% …cran capturÈ par ImageMagick (man ImageMagick) fonction ´ import ª
% et convertie en jpg toujours par ImageMagick.
\begin{figure}[htbp]
\begin{verbatim}
\documentclass[10pt]{beamer}
\usepackage[latin1]{inputenc}
\usepackage[finnish]{babel}
\usepackage[T1]{fontenc}
\mode<beamer>{%
  \usetheme[hideothersubsections,right,width=22mm]{Goettingen}
}

\title{Yksinkertainen esitelm‰}
\author[D. Flipo]{Daniel Flipo}
\institute{U.S.T.L. \& GUTenberg}
\titlegraphic{\includegraphics[width=20mm]{USTL}}
\date{2005}

\begin{document}

\begin{frame}<handout:0>
  \titlepage
\end{frame}

\section{Esimerkki}

\begin{frame}
  \frametitle{Tekemist‰ lepop‰iv‰n ratoksi}
  \begin{block}{Sit‰ voi vaikka \ldots}
    \begin{itemize}
      \item ulkoiluttaa koiraa\dots \pause
      \item lukea kirjaa\pause
      \item kiusata kissaa\pause
    \end{itemize}
  \end{block}
  ja paljon muuta 
\end{frame}
\end{document}
\end{verbatim}
  \caption{Esimerkkikoodia \pai{beamer}-luokan esittelemiseksi}
  \label{fig:code-beamer}
\end{figure}

Kun PDF{LaTeX}:lla k‰‰nnet‰‰n kuvassa \ref{fig:code-beamer} esitetty
koodi, saadaan PDF-tiedosto, jossa on nimiˆsivu ja toinen sivu, jossa
on lista, jonka kohdat tulevat esiin yksi kerrallaan.

Er‰s \pai{beamer}-luokan eduista on sen tuottama PDF-tiedosto. N‰in
ei tarvita ensin esim. \pai{prosper}-makropakkauksen tuottamaa
PostScript-tiedostovaihetta tai \pai{ppower4}-paketin tarvitsemaa
ylim‰‰r‰ist‰ j‰lkik‰sittelyvaihetta.

K‰ytt‰m‰ll‰ \pai{beamer}-luokkaa, voidaan tuottaa samasta dokumentista
erilaisia versioita. K‰sikirjoitustiedossa voi olla hakasulkeiden sis‰ll‰
erityisi‰ ohjeita n‰it‰ eri versioita varten. Seuraavat versiota ovat
k‰ytˆss‰:

\begin{description}
\item[beamer] yll‰ mainitun PDF-esitelm‰n tekemiseksi.
\item[trans] kalvoja varten.
\item[handout] tulosteiden jakamiseksi osanottajille.
\end{description}
Oletusarvoinen versio on \texttt{beamer}, joka voidaan vaihtaa
esim. tulosteiden tuottamiseksi seuraavasti:
\verb|\documentclass[10pt,handout]{beamer}|.

Esitelm‰n ulkoasu riippuu valitusta ulkoasutyylist‰. N‰it‰ voidaan valita
\pai{beamer}-luokan mukana tulevista tai sitten voidaan tehd‰ omia
ulkoasutyylej‰. Lis‰tietoja on saatavilla dokumentista 
\texttt{beameruserguide.pdf}.

Tutkitaanpa tarkemmin kuvan~\ref{fig:code-beamer} koodia.

N‰ytˆn versiota varten on valittu \emph{Goettingen}-ulkoasutyyli,
jossa sis‰llysluetteloon on liitetty navigointipaneeli. Optioilla
voidaan m‰‰ritell‰ paneelin koko (t‰ss‰ tapauksessa 22~mm) ja sen
sijainti (tekstin oikealla puolella). Optio \emph{hideothersubsections}
n‰ytt‰‰ kaikkien lukujen otsikot, mutta ainoastaan parhaillaan l‰pi
k‰yt‰v‰n luvun alaosiot. Versioille \verb|\mode<trans>| ja
\verb|\mode<handout>| ei ole mit‰‰n erityisi‰ ulkoasum‰‰rityksi‰.
Niiss‰ on k‰ytetty oletusulkoasua.

Komennot  \verb|\title{}|, \verb|\author{}|, \verb|\institute{}|,
ja \verb|\titlegraphic{}| m‰‰rittelev‰t nimiˆsivun sis‰llˆn.
Vapaavalintaiset argumentit komennoissa \verb|\title[]{}| ja \verb|\author[]{}|
antavat mahdollisuuden m‰‰ritell‰ \emph{Goettingen}-tyylin navigointipalkkiin
esitelm‰n ja tekij‰n nimist‰ eri versiot.

Paneelin otsikot ja alaotsikot luodaan komennoilla 
\verb|\section{}| ja \verb|\subsection{}|,  jotka sijoitetaan
\ei{frame}-ymp‰ristˆn \emph{ulkopuolelle}.

N‰ytˆn alareunssa olevia pieni‰ navigointikuvakkeita voidaan myˆs
k‰ytt‰‰ siirtymiseen sivulta toiselle. Niiden sijainti ei riipu
k‰ytetyst‰ ulkoasutyylist‰. 

Jokaisen kalvon tai n‰ytˆllisen sis‰ltˆ pit‰‰ olla \ei{frame}-ymp‰ristˆn
sis‰ll‰. Kulmasulkeissa (\verb|<| ja \verb|>|) voidaan antaa argumentti,
joka sallii tietyn kalvon j‰tt‰misen pois jossain esitelm‰n versioista.
Esimerkiss‰ ensimm‰ist‰ sivua ei n‰ytet‰ tulostetussa veriossa, koska
siin‰ on k‰ytetty argumenttia \verb|<handout:0>|.

On suositeltavaa antaa otsikko jokaiselle kalvolle, ensimm‰ist‰ lukuunottamatta.
T‰m‰ tehd‰‰n komennolla \verb|\frametitle{}|. Mik‰li tarvitaan alaotsikkoa,
voidaan k‰ytt‰‰ \ei{block}-ymp‰ristˆ‰ esimerkiss‰ kuvatulla tavalla.
Komennot \verb|\section{}| ja \verb|\subsection{}| eiv‰t toimi kalvoilla.

Luettelon kohdat saadaan n‰kyviin yksi kerrallaan komennolla \verb|\pause|.
Muita tehokeinoja varten on komennot \verb|\only|, \verb|\uncover|, \verb|\alt| ja
\verb|\temporal|. Useimmissa tapauksissa kulmasulkeilla voidaan myˆs
r‰‰t‰lˆid‰ esitelm‰‰.

Ohjedokumentti \texttt{beameruserguide.pdf} on syyt‰ lukea t‰ydellisen
kuvan saamiseksi. N‰it‰ makroja kehitet‰‰n jatkuvasti. Viimeisin tieto
lˆytyy WWW-osoitteesta \href{http://latex-beamer.sourceforge.net/}{http://latex-beamer.sourceforge.net/}

%%% Local Variables: 
%%% mode: latex 
%%% TeX-master: "lyhyt2e" 
%%% End:  