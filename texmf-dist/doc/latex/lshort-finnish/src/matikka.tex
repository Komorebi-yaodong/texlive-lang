%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Contents: Math typesetting with LaTeX
% $Id: matikka.tex,v 1.2 2005/04/05 08:05:09 hellgren Exp $
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
\chapter{Matemaattisten kaavojen ladonta}

\begin{intro}
  Nyt se alkaa! T‰ss‰ luvussa k‰yd‰‰n kiinni \TeX:n p‰‰vahvuuteen:
  matematiikan ladontaan. Varoituksena kuitenkin, ett‰ t‰m‰ luku
  raapaisee vasta pintaa. T‰ss‰ selitetyt asiat riitt‰v‰t useimmille,
  eik‰ pid‰ h‰t‰‰nty‰ vaikka t‰‰lt‰ ei lˆytyisik‰‰n ratkaisuja omaan
  tyˆhˆsi liittyv‰n matematiikan ladontaan. Ongelmaan on ratkaisu
  todenn‰kˆisesti \AmS-\LaTeX:ssa.\footnote{\emph{American Mathematical Society}
  on tehnyt kattavan lis‰yksen {\LaTeX}-makroihin. Monet t‰m‰n luvun
  esimerkeist‰ k‰ytt‰v‰t n‰it‰ lis‰makroja, jotka kuuluvat kaikkiin
  ajan tasalla oleviin {\TeX}-j‰rjestelmiin. Tarvittaessa ne lˆytyv‰t
  osoitteesta \CTANref|macros/latex/required/amslatex|.}
  
\end{intro}
  
\section{Yleist‰}

\LaTeX:ssa on erityinen toimintotila \index{matematiikka} matematiikan ladonnalle.
Matematiikkaa voidaan latoa joko samalle riville tekstin sekaan tai erikseen
omalle rivilleen. Matemaattinen teksti lis‰t‰‰n \ci{(}:n ja \ci{)}:n v‰liin,
\index{$@\texttt{\$}} 
\texttt{\$}:n ja \texttt{\$}:n v‰liin tai \verb|\begin{|\ei{math}\verb|}|:n
ja \verb|\end{math}|:n v‰liin.\index{kaavat}

\begin{example}
Laskemalla yhteen $a$:n neliˆ ja
$b$:n neliˆ saadaan $c$:n neliˆ.
Tai matemaattisemmin sanottuna:
$c^{2}=a^{2}+b^{2}$
\end{example}

\begin{example}
\TeX{} lausutaan 
$\tau\epsilon\chi$.\\[6pt]
100~m$^{3}$ vett‰\\[6pt]
T‰m‰ tulee $\heartsuit$:st‰.
\end{example}

On suositeltavampaa esitt‰‰ matemaattiset yht‰lˆt ja kaavat omalla
rivill‰‰n, eik‰ muun tekstin seassa. T‰m‰ tarkoittaa, ett‰ ne pit‰isi
kirjoittaa \ci{[}:n ja \ci{]}:n v‰liin tai \verb|\begin{|\ei{displaymath}\verb|}|:n
ja \verb|\end{displaymath}|:n v‰liin. 

\begin{example}
Laskemalla yhteen $a$:n ja $b$:n
neliˆt saadaan $c$:n neliˆ. Tai
matemaattisemmin sanottuna: 
\begin{displaymath}
c^{2}=a^{2}+b^{2}
\end{displaymath}
tai lyhyemmin:
\[a+b=c\]
\end{example}

{\LaTeX}:n \ei{equation}-ymp‰ristˆ‰ voidaan k‰ytt‰‰ yht‰lˆjen
numerointiin. Yht‰lˆn numero voidaan silloin merkit‰ \ci{label}:lla
ja siihen voidaan viitata muualla tekstiss‰ makrolla \ci{ref} tai \ci{eqref}:

\begin{example}
\begin{equation} \label{eq:eps}
\epsilon > 0
\end{equation}
Yht‰lˆst‰ (\ref{eq:eps}) saadaan 
\ldots Samoin yht‰lˆst‰ \eqref{eq:eps}.
\end{example}

On huomattava, ett‰ ilmaisut ladotaan eri tavalla silloin kun ne tulevat
omalle rivilleen:
\begin{example}
$\lim_{n \to \infty} 
\sum_{k=1}^n \frac{1}{k^2} 
= \frac{\pi^2}{6}$
\end{example}
\begin{example}
\begin{displaymath}
\lim_{n \to \infty} 
\sum_{k=1}^n \frac{1}{k^2} 
= \frac{\pi^2}{6}
\end{displaymath}
\end{example}

\emph{Matematiikkatilan} ja \emph{tekstitilan} v‰lill‰ on eroa.
Esimerkiksi \emph{matematiikkatilassa}:

\begin{enumerate}

\item Useimmat v‰lilyˆnnit ja rivinvaihdot menett‰v‰t merkityksens‰, sill‰
kaikki v‰lilyˆnnit johdetaan loogisesti matemaattisista ilmaisuista tai
ne pit‰‰ m‰‰ritell‰ erityisesti komennoilla \ci{,}, \ci{quad} tai \ci{qquad}.

\item Tyhji‰ rivej‰ ei sallita. Kaavan pit‰‰ mahtua samaan kappaleeseen.

\item Jokaista kirjainta k‰sitell‰‰n muuttujan nimen‰ ja ne ladotaan sen
mukaisesti. Jos halutaan latoa normaalia teksti‰ kaavan sis‰‰n (normaalia
pysty‰ teksti‰ normaalein v‰listyksin) on teksti lis‰tt‰v‰ \verb|\textrm{...}|-komennnon
sis‰‰n (katso myˆs kohtaa \ref{sec:fontsz} sivulla \pageref{sec:fontsz}).
\end{enumerate}

\begin{example}
\begin{equation}
\forall x \in \mathbf{R}:
\qquad x^{2} \geq 0
\end{equation}
\end{example}

\begin{example}
\begin{equation}
x^{2} \geq 0\qquad
\textrm{kaikille }x\in\mathbf{R}
\end{equation}
\end{example}
 

%
% Add AMSSYB Package ... Blackboard bold .... R for realnumbers
%
Matemaatikot voivat olla hyvin pikkutarkkoja k‰ytetyist‰ symboleista:
perinteisesti t‰ss‰ k‰ytett‰isiin '\wi{liitutaululihavointi}a',\index{lihavoidut
symbolit} joka saadaan k‰yttˆˆn \ci{mathbb}-komennolla \pai{amsfonts}- tai
\pai{amssymb}-pakkauksesta.
\ifx\mathbb\undefined\else
Viimeisest‰ esimerkist‰ tulee
\begin{example}
\begin{displaymath}
x^{2} \geq 0\qquad
\textrm{for all }x\in\mathbb{R}
\end{displaymath}
\end{example}
\fi

\section{Ryhmittely matematiikkatilassa}

Useimmat matemaattiset komennnot vaikuttavat vain seuraavaan merkkiin.
Jos vaikutus halutaan ulottaa useampaan merkkiin, on ne ryhmitelt‰v‰
yhteen k‰ytt‰m‰ll‰ aaltosulkeita: \verb|{...}|.

\begin{example}
\begin{equation}
a^x+y \neq a^{x+y}
\end{equation}
\end{example}
 
\section{Matemaattisten kaavojen rakentaminen}

T‰ss‰ osiossa kerrotaan matemaattisen ladonnan t‰rkeimm‰t komennot.
Osi\-os\-sa \ref{symbols}, sivulla~\pageref{symbols} on yksityiskohtainen
luettelo komennoista, joilla ladotaan matemaattisia symboleja.

\textbf{Pienet \wi{kreikkalaiset kirjaimet}} kirjoitetaan muodossa \verb|\alpha|,
 \verb|\beta|, \verb|\gamma|, \ldots, isot kirjaimet kirjoitetaan muodossa
 \verb|\Gamma|, \verb|\Delta|, \ldots\footnote{\LaTeXe{} ei m‰‰rittele
  isoa Alfaa, sill‰ se n‰ytt‰‰ samalta kuin normaali antiikva A.
  Kunhan uusi matemaattinen merkistˆkoodaus on valmis, asiat muuttuvat t‰lt‰
  osin.} 

\begin{example}
$\lambda,\xi,\pi,\mu,\Phi,\Omega$
\end{example}

\textbf{Eksponentit ja alaindeksit} voidaan m‰‰ritell‰ k‰ytt‰m‰ll‰\index{eksponentti}
\index{alaindeksi} \verb|^|\index{^@\verb"|^"|}- ja \verb|_|\index{_@\verb"|_"|}-merkki‰

\begin{example}
$a_{1}$ \qquad $x^{2}$ \qquad
$e^{-\alpha t}$ \qquad
$a^{3}_{ij}$\\
$e^{x^2} \neq {e^x}^2$
\end{example}

\textbf{Neliˆjuuri}\index{neliˆjuuri} kirjoitetaan \ci{sqrt}, $n$:s juuri saadaan
kirjoittamalla \verb|\sqrt[|$n$\verb|]|. Juuren koon \LaTeX{} m‰‰rittelee automaattisesti.
Jos pelkk‰ juuren merkki tarvitaan, k‰yt‰ komentoa \verb|\surd|.

\begin{example}
$\sqrt{x}$ \qquad 
$\sqrt{ x^{2}+\sqrt{y} }$ 
\qquad $\sqrt[3]{2}$\\[3pt]
$\surd[x^2 + y^2]$
\end{example}

Komennot \ci{overline} ja \ci{underline} piirt‰v‰t vastaavasti
ilmaisun yl‰- tai alapuolelle \textbf{vaakaviivan}. 
\index{vaakaviiva}
\begin{example}
$\overline{m+n}$
\end{example}

Komennot \ci{overbrace} ja \ci{underbrace} piirt‰v‰t ilmaisun
yl‰- tai alapuolelle pitk‰n \textbf{vaakasulkeen}
\index{vaakasulje}
\begin{example}
$\underbrace{ a+b+\cdots+z }_{26}$
\end{example}

\index{matemaattiset!aksentit} Matemaattisten aksenttien, kuten pienten
nuolien tai \verb|~|-merkkien, lis‰‰miseksi muuttujiin voidaan k‰ytt‰‰
taulukossa~\ref{mathacc}, sivulla~\pageref{mathacc}, olevia komentoja.
Laajat hatut ja \verb|~|:t, jotka ulottuvat usean merkin yli, saadaan
aikaan komennoilla \ci{widetilde} ja \ci{widehat}. \verb|'|\index{'@\verb"|'"|}-symboli
tekee $'$:n.

% a dash is --

\begin{example}
\begin{displaymath}
y=x^{2}\qquad y'=2x\qquad y''=2
\end{displaymath}
\end{example}

\textbf{Vektorit}\index{vektorit} m‰‰ritell‰‰n usein lis‰‰m‰ll‰ pieni
\wi{nuoli} muuttujan p‰‰lle. T‰m‰ tehd‰‰n \ci{vec}-komennolla. 
\ci{overrightarrow} ja \ci{overleftarrow} ovat avuksi m‰‰ritelt‰ess‰
$A$:sta $B$:hen ulottuvaa vektoria.

\begin{example}
\begin{displaymath}
\vec a\quad\overrightarrow{AB}
\end{displaymath}
\end{example}

Yleens‰ kertolaskun pistesymbolia ei ladota n‰kyviin.
Joskus kuitenkin sit‰ k‰ytet‰‰n helpottamaan kaavan
ryhmityksen hahmottamista. Siin‰ tapauksessa k‰ytet‰‰n
komentoa \ci{cdot}

\begin{example}
\begin{displaymath}
v = {\sigma}_1 \cdot {\sigma}_2
    {\tau}_1 \cdot {\tau}_2
\end{displaymath}
\end{example}

Logaritmien ja muiden vastaavien functioiden nimet ladotaan usein
pystyll‰ kirjasimella eik‰ kursiivilla kuten muuttujat. T‰st‰ syyst‰
\LaTeX{} tarjoaa seuraavat komennot t‰rkeimpien funktioiden nimien
latomiseksi:\index{matemaattiset!funktiot}

\begin{tabular}{lllllll}
\ci{arccos} &  \ci{cos}  &  \ci{csc} &  \ci{exp} &  \ci{ker}    & \ci{limsup} & \ci{min} \\
\ci{arcsin} &  \ci{cosh} &  \ci{deg} &  \ci{gcd} &  \ci{lg}     & \ci{ln}     & \ci{Pr}  \\
\ci{arctan} &  \ci{cot}  &  \ci{det} &  \ci{hom} &  \ci{lim}    & \ci{log}    & \ci{sec} \\
\ci{arg}    &  \ci{coth} &  \ci{dim} &  \ci{inf} &  \ci{liminf} & \ci{max}    & \ci{sin} \\
\ci{sinh} & \ci{sup} & \ci{tan} & \ci{tanh}\\
\end{tabular}

\begin{example}
\[\lim_{x \rightarrow 0}
\frac{\sin x}{x}=1\]
\end{example}

Modulolle\index{modulo} on kaksi komentoa: \ci{bmod}
bin‰‰rioperaattorille ''$a \bmod b$'' ja \ci{pmod} ilmaisuille
''$x\equiv a \pmod{b}$''.
\begin{example}
$a\bmod b$\\
$x\equiv a \pmod{b}$
\end{example}


\textbf{Murtoluvut}\index{murtoluvut} ladotaan komennolla
\ci{frac}\verb|{...}{...}|. Usein kauttaviivaa k‰ytt‰v‰ muoto
$1/2$ on parempi, koska se n‰ytt‰‰ paremmalta pienemm‰ss‰ tilassa.
\begin{example}
$1\frac{1}{2}$~hours
\begin{displaymath}
\frac{ x^{2} }{ k+1 }\qquad
x^{ \frac{2}{k+1} }\qquad
x^{ 1/2 }
\end{displaymath}
\end{example}

Binomikertoimien tai vastaavien rakenteiden latomiseksi voidaan k‰ytt‰‰
\pai{amsmath}-makrojen komentoa \ci{binom}.

\begin{example}
\begin{displaymath}
\binom{n}{k}\qquad\mathrm{C}_n^k
\end{displaymath}
\end{example}
 
Bin‰‰rirelaatioita ajatellen voi olla hyv‰, ett‰ symboleita voidaan
ladota p‰‰llekk‰in. \ci{stackrel} sijoittaa ensimm‰isess‰
argumentissa annetun symbolin yl‰indeksin kokoisena j‰lkimm‰isen
yl‰puolelle.
\begin{example}
\begin{displaymath}
\int f_N(x) \stackrel{!}{=} 1
\end{displaymath}
\end{example}

\textbf{Integraali-operaattori}\index{integraali-operaattori} saadaan k‰skyll‰
\ci{int}, \textbf{\wi{summa-operaattori}} k‰skyll‰ \ci{sum} ja \textbf{\wi{tulo-operaattori}}
k‰skyll‰ \ci{prod}.
Yl‰- ja alarajat m‰‰ritell‰‰n komennoilla \verb|^| ja \verb|_| kuten yl‰- ja alaindeksit.
\footnote{\AmS-\LaTeX:ssa voidaan k‰ytt‰‰ lis‰ksi monirivisi‰ yl‰- ja alaindeksej‰}
\begin{example}
\begin{displaymath}
\sum_{i=1}^{n} \qquad
\int_{0}^{\frac{\pi}{2}} \qquad
\end{displaymath}
\end{example}

Mutkikkaiden kaavojen indeksien sijoitteluun \pai{amsmath}
tarjoaa kaksi tyˆkalua: \ci{substack}-komennon ja \ei{subarray}-ymp‰ristˆn:
\begin{example}
\begin{displaymath}
\sum_{\substack{0<i<n \\ 1<j<m}}
   P(i,j) =
\sum_{\begin{subarray}{l} i\in I\\
         1<j<m
      \end{subarray}}     Q(i,j)
\end{displaymath}
\end{example}

\medskip

\textbf{Sulkeille}\index{sulkeet} ja muille erottimille\index{erottimet}
on TeX:ss‰ kaikenlaisia symboleja (esim. $[\;\langle\;\|\;\updownarrow$).
Tavalliset ja hakasulkeet lis‰t‰‰n vastaavilla n‰pp‰imill‰, kaarisulkeet
komennolla \verb|\{|. Kaikki muut eroittimet tehd‰‰n erityisill‰ komennoilla
(esim. \verb|\updownarrow|). Katso taulukosta~\ref{tab:delimiters},
sivulta~\pageref{tab:delimiters} luetteloa saatavilla olevista erottimista.

\begin{example}
\begin{displaymath}
{a,b,c}\neq\{a,b,c\}
\end{displaymath}
\end{example}

Jos aloittavan erottimen eteen pannaan komento \ci{left} tai p‰‰tt‰v‰n
erottimen eteen \ci{right}, \TeX{} m‰‰rittelee automaattisesti erottimen
oikean koon. On huomattava, ett‰ jokaiselle \ci{left}-komennolle pit‰‰ lˆyty‰
vastaava \ci{right} ja ett‰ koko m‰‰ritell‰‰n oikein vain, jos kummatkin
k‰skyt on kirjoitettu samalle riville. Mik‰li oikealle puolelle ei haluta
mit‰‰n, voidaan ottaa k‰yttˆˆn n‰kym‰tˆn '\ci{right.}'!

\begin{example}
\begin{displaymath}
1 + \left( \frac{1}{ 1-x^{2} }
    \right) ^3
\end{displaymath}
\end{example}

Joissain tapauksissa on tarpeen m‰‰ritt‰‰ matemaattisen
erottimen\index{matemaattinen!erotin} oikea koko k‰sin. Se tehd‰‰n
panemalla useimpien erotinkomentojen eteen \ci{big}, \ci{Big},
\ci{bigg} tai \ci{Bigg}.\footnote{N‰m‰ komennot eiv‰t toimi odotetusti,
mik‰li tekstin kokoa on muutettu erityisill‰ k‰skyill‰ tai joko
\texttt{11pt}- tai \texttt{12pt}-optiota on k‰ytetty. T‰m‰n ongelman
ratkaisemiseksi voidaan k‰ytt‰‰ makropaketteja \pai{exscale} tai
\pai{amsmath}.}

\begin{example}
$\Big( (x+1) (x-1) \Big) ^{2}$\\
$\big(\Big(\bigg(\Bigg($\quad
$\big\}\Big\}\bigg\}\Bigg\}$\quad
$\big\|\Big\|\bigg\|\Bigg\|$
\end{example}

Kaavaan voidaan lis‰t‰ \textbf{\wi{kolme pistett‰}} useammalla k‰skyll‰.
\ci{ldots} latoo pisteet perusviivalle, \ci{cdots} asettaa ne keskitetysti.
T‰m‰n lis‰ksi k‰ytˆss‰ ovat komennot \ci{vdots} pystysuorille ja \ci{ddots}
vinoille pisteille.\index{kolme pistett‰!vaakasuorassa}\index{kolme pistett‰!pystysuorassa}
\index{kolme pistett‰!vinossa}\index{vaakasuorat!pisteet} Lis‰‰ esimerkkej‰
lˆytyy osiosta~\ref{sec:vert}.

\begin{example}
\begin{displaymath}
x_{1},\ldots,x_{n} \qquad
x_{1}+\cdots+x_{n}
\end{displaymath}
\end{example}
 
\section{V‰listys matematiikassa}

\index{v‰listys matematiikassa} Mik‰li \TeX:n m‰‰rittelem‰t v‰lit kaavoissa
eiv‰t tyydyt‰, niit‰ voidaan muuttaa lis‰‰m‰ll‰ erityisi‰ v‰listyskomentoja.
Pienille v‰leille on muutamia komentoja: \ci{,} $\frac{3}{18}\:\textrm{quad}$:n
v‰lille (\demowidth{0.166em}), \ci{:} $\frac{4}{18}\:\textrm{quad}$:n v‰lille
(\demowidth{0.222em}) ja \ci{;} $\frac{5}{18}\:\textrm{quad}$:n
v‰lille (\demowidth{0.277em}). Komennolla lis‰tty v‰lilyˆnti \verb*.\ .
lis‰‰ keskikokoisen v‰lin ja \ci{quad} (\demowidth{1em}) ja
\ci{qquad} (\demowidth{2em}) lis‰‰v‰t ison v‰lin. \ci{quad}:n
koko riippuu k‰ytˆss‰ olevan kirjasimen 'M'-kirjaimen leveydest‰.
\verb|\!|\cih{"!}-komento tuottaa $-\frac{3}{18}\:\textrm{quad}$:n
(\demowidth{0.166em}) negatiivisen v‰lin.

\begin{example}
\newcommand{\ud}{\mathrm{d}}
\begin{displaymath}
\int\int_{D} g(x,y)\ud x \ud y
\end{displaymath}
sijaan tulee 
\begin{displaymath}
\int\!\!\!\int_{D} g(x,y)
  \, \ud x\, \ud y 
\end{displaymath}
\end{example}
Huomaa, ett‰ differentiaalin 'd' ladotaan tavallisesti antiikvalla.

\AmS-\LaTeX:ssa on toinen tapa v‰lien s‰‰t‰miseksi integraali-merkkien
v‰lill‰, nimitt‰in komennot \ci{iint}, \ci{iiint}, \ci{iiiint} ja \ci{idotsint}.
Kun \pai{amsmath}-makrot ovat k‰ytˆss‰, yll‰ oleva esimerkki voidaan
latoa n‰in:

\begin{example}
\newcommand{\ud}{\mathrm{d}}
\begin{displaymath}
\iint_{D} \, \ud x \, \ud y
\end{displaymath}
\end{example}

Katso lis‰tietoja tiedostosta testmath.tex (levitet‰‰n \AmS-\LaTeX:n mukana) tai
luvusta 8 kirjassa ''The LaTeX Companion''.

\section{Vertikaalisesti tasattu materiaali}
\label{sec:vert}

\textbf{Matriisien} latomiseksi k‰ytet‰‰n \ei{array}-ymp‰ristˆ‰. Se
toimii samalla tavoin kuin \texttt{tabular}-ymp‰ristˆ. Komentoa \verb|\\|
k‰ytet‰‰n rivinvaihdon merkkin‰.

\begin{example}
\begin{displaymath}
\mathbf{X} =
\left( \begin{array}{ccc}
x_{11} & x_{12} & \ldots \\
x_{21} & x_{22} & \ldots \\
\vdots & \vdots & \ddots
\end{array} \right)
\end{displaymath}
\end{example}

\ei{array}-ymp‰ristˆ‰ voidaan k‰ytt‰‰ myˆs latomaan ilmaisuja, joissa on
yksi iso rajoitin. N‰kym‰ttˆm‰st‰ \ci{right}-erottimesta k‰y \verb|.| (piste):

\begin{example}
\begin{displaymath}
y = \left\{ \begin{array}{ll}
 a & \textrm{if $d>c$}\\
 b+x & \textrm{aamulla}\\
 l & \textrm{pitkin p‰iv‰‰}
  \end{array} \right.
\end{displaymath}
\end{example}

Myˆs \ei{array}-ymp‰ristˆss‰ voidaan piirt‰‰ viivoja samalla tavoin
kuin \verb|tabular|-ymp‰ristˆss‰, esim. matriisin sis‰llˆn jakamiseksi:
\begin{example}
\begin{displaymath}
\left(\begin{array}{c|c}
 1 & 2 \\
\hline
3 & 4
\end{array}\right)
\end{displaymath}
\end{example}

Useamman rivin mittaisille kaavoille ja yht‰lˆille\index{yht‰lˆt} voidaan
\texttt{equation}:n sijasta k‰ytt‰‰ ymp‰ristˆj‰ \ei{eqnarray} ja \verb|eqnarray*|.
\texttt{eqnarray}:ssa joka rivi saa yht‰lˆn numeron. \verb|eqnarray*| ei numeroi
mit‰‰n.

\texttt{eqnarray} ja \verb|eqnarray*| toimivat samoin kuin kolmisarakkeinen
taulukko, joka on muotoa \verb|{rcl}|, jossa keskimm‰ist‰ saraketta voidaan
k‰ytt‰‰ yht‰suuruusmerkkiin tai erisuuruusmerkkiin. Tai muuhun sopivaan
merkkiin. \verb|\\|-komento katkaisee rivin.

\begin{example}
\begin{eqnarray}
f(x) & = & \cos x     \\
f'(x) & = & -\sin x   \\
\int_{0}^{x} f(y)dy &
 = & \sin x
\end{eqnarray}
\end{example}

\noindent Huomaa, ett‰ yht‰suuruusmerkin ymp‰rill‰ olevat v‰lit ovat melko
suuret. Sit‰ voidaan v‰hent‰‰ asettamalla \verb|\setlength\arraycolsep{2pt}|,
kuten seuraavassa esimerkiss‰.

\index{pitk‰t yht‰lˆt} \textbf{Pitki‰ yht‰lˆit‰} ei jaeta automaattisesti
sopiviin osiin. Kirjoittajan t‰ytyy m‰‰ritell‰ miss‰ ne katkaistaan ja
miten paljon pit‰‰ sisent‰‰. Kaksi yleisint‰ tapaa tehd‰ t‰m‰ esitell‰‰n
seuraavaksi.

\begin{example}
{\setlength\arraycolsep{2pt}
\begin{eqnarray}
\sin x & = & x -\frac{x^{3}}{3!}
     +\frac{x^{5}}{5!}-{}
                    \nonumber\\
 & & {}-\frac{x^{7}}{7!}+{}\cdots
\end{eqnarray}}
\end{example}
\pagebreak[1]

\begin{example}
\begin{eqnarray}
\lefteqn{ \cos x = 1
     -\frac{x^{2}}{2!} +{} }
                    \nonumber\\
 & & {}+\frac{x^{4}}{4!}
     -\frac{x^{6}}{6!}+{}\cdots
\end{eqnarray}
\end{example}

%\enlargethispage{\baselineskip}
\noindent \ci{nonumber}-komento est‰‰ \LaTeX:ia numeroimasta t‰t‰
yht‰lˆ‰.

Voi olla vaikeaa saada pystyyn tasattuja yht‰lˆit‰ n‰kym‰‰n oikein
n‰ill‰ keinoin; \pai{amsmath}-makropaketti tarjoaa tehokkaampia
tapoja (katso ymp‰ristˆj‰ \verb|align|, \verb|flalign|, \verb|gather|,
\verb|multline| ja \verb|split|).

\section{Haamut}

Haamuja ei voi n‰hd‰, mutta ne kuitekin askarruttavat monien mielt‰.
\LaTeX{} ei eroa t‰ss‰ suhteessa. Haamuja voidaan k‰ytt‰‰ mielenkiintoisten
v‰listystemppujen tekemiseen.

Kun teksti‰ tasataan pystysuunnassa \verb|^|- ja \verb|_|-komentoja k‰ytett‰ess‰,
\LaTeX{} on joskus v‰h‰n liiankin avulias. \ci{phantom}-komennolla voidaan
varata tilaa merkeille, jotka eiv‰t tule n‰kyviin lopputuloksessa. Parasta
kun vilkaistaan seuraavaa esimerkki‰: 

\begin{example}
\begin{displaymath}
{}^{12}_{\phantom{1}6}\textrm{C}
\qquad \textrm{versus} \qquad
{}^{12}_{6}\textrm{C}
\end{displaymath}
\end{example}
\begin{example}
\begin{displaymath} 
\Gamma_{ij}^{\phantom{ij}k}
\qquad \textrm{versus} \qquad
\Gamma_{ij}^{k}
\end{displaymath}  
\end{example}

\section{Matematiikan kirjasinkoko}\label{sec:fontsz}

\index{matematiikan kirjasinkoko} Matematiikkatilassa \TeX{} valitsee
kirjasimen koon kontekstin mukaan. Jos osa yht‰lˆst‰ halutaan latoa
antiikvalla, ei pid‰ k‰ytt‰‰ \verb|\textrm|-komentoa, sill‰ kirjasimen
koon vaihtava mekanismi ei toimi, koska \verb|\textrm| siirtyy v‰liaikaisesti
takaisin tekstitilaan. Koonvaihtomekanismin toiminnan kannalta pit‰isi k‰ytt‰‰
\verb|\mathrm|-k‰sky‰. On kuitenkin huomattava, ett‰ \ci{mathrm} toimii
ainoastaan lyhyill‰ kohteilla. V‰lilyˆnnit ja kirjainten aksentit
eiv‰t edelleenk‰‰n toimi.\footnote{\AmS-\LaTeX:ssa \ci{textrm}-komento
toimii koon vaihdon kanssa.}

\begin{example}
\begin{equation}
2^{\textrm{nd}} \quad 
2^{\mathrm{nd}}
\end{equation}
\end{example}

Toisinaan \LaTeX:lle t‰ytyy kuitenkin kertoa kirjasimen oikea koko.
Matematiikkatilassa kirjasinkoko asetetaan nelj‰ll‰ komennolla:
\begin{flushleft}
\ci{displaystyle}~($\displaystyle 123$),
 \ci{textstyle}~($\textstyle 123$), 
\ci{scriptstyle}~($\scriptstyle 123$) ja
\ci{scriptscriptstyle}~($\scriptscriptstyle 123$).
\end{flushleft}

Tyylin vaihtaminen vaikuttaa myˆs rajoittimien esitt‰miseen.

\begin{example}
\begin{displaymath}
\mathop{\mathrm{corr}}(X,Y)= 
 \frac{\displaystyle 
   \sum_{i=1}^n(x_i-\overline x)
   (y_i-\overline y)} 
  {\displaystyle\biggl[
 \sum_{i=1}^n(x_i-\overline x)^2
\sum_{i=1}^n(y_i-\overline y)^2
\biggr]^{1/2}}
\end{displaymath}    
\end{example}
% This is not a math accent, and no maths book would be set this way.
% mathop gets the spacing right.

\noindent T‰m‰ on er‰s niist‰ esimerkeist‰, joissa tarvitaan suurempia
sulkeita kuin \verb|\left[ \right]|:n tarjoamat.

\section{Teoreemat, lait, \ldots}

Matemaattisia dokumentteja kirjoitettaessa tarvitaan todenn‰kˆisesti
keino latoa lemmoja, m‰‰ritelmi‰, aksioomeja ja vastaavia rakenteita.
\LaTeX:ssa t‰t‰ tukee komento
\begin{lscommand}
\ci{newtheorem}\verb|{|\emph{nimi}\verb|}[|\emph{laskuri}\verb|]{|%
         \emph{teksti}\verb|}[|\emph{osio}\verb|]|
\end{lscommand}
Argumentti \emph{nimi} on lyhyt tunniste teoreemalle.
\emph{teksti}-argumentilla, m‰‰ritell‰‰n teoreeman varsinainen nimi, joka
tulostuu lopulliseen dokumenttiin.

Hakasulkeissa olevat argumentit ovat vaihtoehtoisia. Niit‰ kumpaakin
k‰ytet‰‰n m‰‰rittelem‰‰n teoreemassa k‰ytetty‰ numerointia.
\emph{laskuri}"-argumentilla m‰‰ritell‰‰n aikaisemmin m‰‰ritellyn
teoreeman \emph{nimi}. Uusi teoreema numeroidaan sitten saman sarjan
mukaan. \emph{osio}-argumentilla voidaan m‰‰ritell‰ osiointiyksikkˆ,
mink‰ mukaan teoreema numeroidaan.

Kun dokumentin esittelyosassa on suoritettu \ci{newtheorem}-komento,
voidaan dokumentissa k‰ytt‰‰ seuraavaa k‰sky‰.

\begin{code}
\verb|\begin{|\emph{nimi}\verb|}[|\emph{teksti}\verb|]|\\
T‰m‰ on mielenkiintoinen teoreemani\\
\verb|\end{|\emph{nimi}\verb|}|     
\end{code}

T‰m‰ teoriapuolesta. Seuraavat esimerkit toivottavasti poistavat
viimeisetkin ep‰ilyt ja tekev‰t selv‰ksi, ett‰ \verb|\newtheorem|-ymp‰ristˆ
on ymm‰rt‰misen kannalta liian mutkikas.

\begin{example}
% m‰‰ritelmi‰ dokumentin 
% esittelyosaan
\newtheorem{laki}{Laki}
\newtheorem{jury}[laki]{Jury}
%itse dokumentti
\begin{laki} \label{laki:box}
Al‰ piiloudu todistajanaitioon
\end{laki}
\begin{jury}[Kaksitoista]
Se voisit olla sin‰! Siisp‰ varo
ja katso lakia \ref{laki:box}
\end{jury}
\begin{laki}Ei, ei, ei, ei\end{laki}
\end{example}

Jury-teoreema k‰ytt‰‰ samaa laskuria kuin Laki-teoreema. Niinp‰
se saa numeroinnin samasta sarjasta kuin muut ''Lait''. Hakasulkeissa
olevaa argumenttia k‰ytet‰‰n m‰‰rittelem‰‰n teoreeman otsikkoa tai
vastaavaa.

\begin{example}
\flushleft
\newtheorem{mur}{Murphy}[section]
\begin{mur}
Jos on kaksi tai useampi
tapaa tehd‰ jotain, ja yksi
n‰ist‰ tavoista voi johtaa
katastrofiin, niin joku
k‰ytt‰‰ sit‰ tapaa.\end{mur}
\end{example}

Murphyn teoreema saa numeron joka on yhteydess‰ osion numeroon. T‰ss‰
voidaan k‰ytt‰‰ myˆs muita yksikˆit‰, esimerkiksi lukua tai alaosiota.

\section{Lihavoidut symbolit}
\index{lihavoidut symbolit}

\LaTeX:ssa on hyvin vaikeaa saada symboleja lihavoitua; t‰m‰ on
tehty ilmeisesti tarkoituksella, sill‰ amatˆˆrilatojilla on tapana
k‰ytt‰‰ niit‰ liikaa. Kirjasimenvaihtok‰sky \verb|\mathbf| antaa
lihavoituja kirjaimia, mutta n‰m‰ ovat pystyj‰ antiikvakirjaimia, kun taas
matemaattiset symbolit ladotaan normaalisti kursiivilla. On olemassa
myˆs \ci{boldmath}-komento, mutta \emph{t‰t‰ voidaan k‰ytt‰‰ vain
matematiikkatilan ulkopuolella}. Se toimii myˆs symboleille.

\begin{example}
\begin{displaymath}
\mu, M \qquad \mathbf{M} \qquad
\mbox{\boldmath $\mu, M$}
\end{displaymath}
\end{example}

\noindent Huomaa, ett‰ myˆs pilkku on lihavoitu, mik‰ voi olla tarkoituskin.

\pai{amsbsy}-makrot (jotka kuuluvat osana \pai{amsmath}-pakettiin) tekev‰t
t‰st‰ helpomman teht‰v‰n, sill‰ siin‰ on mukana komento \ci{boldsymbol}.

\ifx\boldsymbol\undefined\else
\begin{example}
\begin{displaymath}
\mu, M \qquad
\boldsymbol{\mu}, \boldsymbol{M}
\end{displaymath}
\end{example}
\fi


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "lyhyt2e"
%%% End: 